(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{244:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/individual/[...usuario]",function(){return r(7224)}])},7224:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return Nn},default:function(){return gn}});var t=r(5893),a=r(7294),o=r(1664),i=r(9008),l=r(4051),s=r.n(l),c=r(2580),u="h-10 border border-gray-400 px-4 ",d=[{id:9,name:"tipo_identificacion",fieldName:"Tipo de identificacion",type:"select",className:"".concat(u),options:[{id:9.2,name:"C.C",fieldName:"C.C"},{id:9.3,name:"C.E",fieldName:"C.E",className:""}]},{id:10,name:"num_identificacion",fieldName:"No. De identificaci\xf3n",type:"number",className:"".concat(u)},{id:11,name:"seguridad_social",fieldName:"Seguridad Social",type:"select",className:"".concat(u),options:[{id:11.2,name:"EPS",fieldName:"EPS"},{id:11.3,name:"Sisb\xe9n",fieldName:"Sisb\xe9n"},{id:11.4,name:"N/a",fieldName:"No Aplica"}]},{id:12,name:"primer_nombre",fieldName:"Primer Nombre",type:"text",className:"".concat(u)},{id:13,name:"segundo_nombre",fieldName:"Segundo Nombre",type:"text",className:"".concat(u)},{id:14,name:"primer_apellido",fieldName:"Primer Apellido",type:"text",className:"".concat(u)},{id:15,name:"segundo_apellido",fieldName:"Segundo Apellido",type:"text",className:"".concat(u)},{id:16,name:"fecha_nacimiento",fieldName:"Fecha de nacimiento",type:"date",className:"".concat(u)},{id:17,name:"razon_social",fieldName:"Raz\xf3n Social",type:"text",className:"".concat(u)},{id:18,name:"nit",fieldName:"NIT",type:"number",className:"".concat(u)}],m=r(4231),f=r(3491),p=r(7576),b=r(2035),v=r(843),y=r(1163),h=r(6960),x=r(6135);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function N(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function g(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){N(o,t,a,i,l,"next",e)}function l(e){N(o,t,a,i,l,"throw",e)}i(void 0)}))}}function j(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function w(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){j(e,n,r[n])}))}return e}function S(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return _(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q={terminos_condiciones:!0,rango_edad:!0,estrato_valido:!0,no_central_riesgo:!0,no_deudas_vigentes:!0,ubicacion_negocio:!0},A=function(e){var n=function(e){var n=e.fecha_nacimiento,r=e.setFieldValue;return a.useEffect((function(){if(""!==n){var e=function(e){var n=(new Date).getFullYear(),r=new Date(e).getFullYear(),t=Math.floor(n-r);return Number(t)}(n);r("edad",e)}}),[n]),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"hidden",children:"Edad"}),(0,t.jsx)(c.gN,{type:"text",disabled:!0,placeholder:"Edad",name:"edad",className:"hidden"}),(0,t.jsx)(c.Bc,{name:"edad"})]})},r=e.userInfo,o=r.primer_nombre,i=r.segundo_nombre,l=r.primer_apellido,u=r.segundo_apellido,_=r.num_identificacion,N=(0,y.useRouter)(),j=(0,y.useRouter)().push,A=N.query,C=A.paso,E=A.rol,I=O(N.query.usuario,2),D=I[0],P=I[1],F=O(a.useState(!1),2),k=F[0],Z=F[1];a.useEffect((function(){Z(!!_)}),[]);var R={razon_social:"",nit:"",tipo_identificacion:"",num_identificacion:_||"",seguridad_social:"",primer_nombre:o||"",segundo_nombre:i||"",primer_apellido:l||"",segundo_apellido:u||"",fecha_nacimiento:"",edad:""},M=O(a.useState(R),2),T=M[0],z=M[1],V=O(a.useState(void 0),2),B=V[0],U=V[1],H=O(a.useState(!1),2),$=H[0],L=H[1],Y=O(a.useState(null),2),J=Y[0],W=Y[1],G=O(a.useState(null),2),X=G[0],K=G[1];a.useEffect(g(s().mark((function e(){var n,r,t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),P){e.next=4;break}return L(!1),e.abrupt("return");case 4:return e.prev=4,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(P,"?seccion=").concat(C),e.next=8,(0,h.Y)(n);case 8:if(r=e.sent,t=r.response,r.error){e.next=20;break}return e.next=14,t.json();case 14:a=e.sent,404===t.status&&(z(T),W(null),L(!1)),401===t.status&&(L(!1),W("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===t.status&&(z(w({},a.persona,{edad:""})),U(w({},a.prerrequisitos)),W(null),L(!1)),e.next=21;break;case 20:window.localStorage.clear(),j("/login");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[4,23]])}))),[]);var Q=O(a.useState(!1),2),ee=Q[0];Q[1];return $?(0,t.jsx)("div",{children:"Loading"}):J?(0,t.jsx)(x.default,{message:J}):(0,t.jsx)("div",{className:"".concat(ee&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:T,validationSchema:m.Ry({razon_social:m.Z_().nullable(!0),nit:m.Rx().typeError("Debe ser un n\xfamero").positive(" Debe ser mayor a 0").nullable(!0),tipo_identificacion:m.Z_().required("requerido").oneOf(["C.C","C.E"]),num_identificacion:m.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive("Debe ser mayor a 0"),seguridad_social:m.Z_().required("requerido").oneOf(["EPS","Sisb\xe9n","N/a"]),primer_nombre:m.Z_().required("requerido").max(20,"No puede exceder a 20 caract\xe9res").matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales."),segundo_nombre:m.Z_().notRequired().max(20,"No puede exceder a 20 caract\xe9res").matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales.").nullable(!0),primer_apellido:m.Z_().required("requerido").max(20,"No puede exceder a 20 caract\xe9res").matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales."),segundo_apellido:m.Z_().notRequired().max(20,"No puede exceder a 20 caract\xe9res").matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales.").nullable(!0),fecha_nacimiento:m.hT().required("requerido").test("age","Debes tener entre 18 y 75",(function(e){var n=(new Date).getFullYear(),r=new Date(e).getFullYear(),t=Math.floor(n-r);return Number(t)>=18&&Number(t)<=75})),edad:m.Rx().typeError("Debe ser un n\xfamero").min(18,"Debes tener 18 a\xf1os").max(75,"Debes tener menos de 75").positive("\xbfEs en serio?").notRequired()}),onSubmit:function(){var n=g(s().mark((function n(r){var t,a,o,i,l,c,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setForm((function(e){return w({},e,{formulario_individual:w({},e.formulario_individual,{informacion_basica:w({},r)})})})),t=r.nit,a=r.razon_social,o=S(r,["nit","razon_social"]),i={seccion:"FDE_2",data:{prerrequisitos:B||q||w({},e.form.formulario_individual.autorizacion_datos_personales,e.form.formulario_individual.datos_prerequisitos)}},P&&(i.solicitud_id=P),i.data.persona=""===a?w({razon_social:null},o,{nit:t}):w({},o,{razon_social:a,nit:t}),i.data.persona=w({},o,""===t?{razon_social:a,nit:null}:{nit:Number(t),razon_social:a}),i.data.persona.edad&&delete i.data.persona.edad,n.prev=7,n.next=10,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),i);case 10:if(l=n.sent,c=l.res,u=l.responseComplete,!l.error){n.next=18;break}return window.localStorage.clear(),j("/login"),n.abrupt("return");case 18:u?(e.setSolicitud_id(c.solicitud_credito),e.setIsCompletedBasicInformation(!0),e.setCurrent(e.current+1),N.push("/individual/".concat(r.num_identificacion||D,"/").concat(c.solicitud_credito||P,"?paso=FDE_3&rol=").concat(E))):(e.setIsCompletedBasicInformation(!1),K("Intenta m\xe1s tarde"),setTimeout((function(){K(null)}),5e3)),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(7),console.log(n.t0);case 24:case"end":return n.stop()}}),n,null,[[7,21]])})));return function(e){return n.apply(this,arguments)}}(),children:function(e){return(0,t.jsxs)(c.l0,{children:[d.map((function(r){return"select"===r.type?(0,t.jsx)(f.Z,{id:r.id,label:r.fieldName,name:r.name,className:r.className,options:r.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},r.id):"date"===r.type?(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Z,{label:r.fieldName,name:r.name,type:r.type},r.id),(0,t.jsx)(n,{fecha_nacimiento:e.values.fecha_nacimiento,setFieldValue:e.setFieldValue})]},r.id):"num_identificacion"===r.name?(0,t.jsx)(p.Z,{label:r.fieldName,name:r.name,type:r.type,className:r.className,disabled:k},r.id):(0,t.jsx)(p.Z,{label:r.fieldName,name:r.name,type:r.type,className:r.className},r.id)})),X?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:X}):null,(0,t.jsx)("div",{className:"flex justify-center md:justify-end",children:(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})})]})}})})},C="h-10 border border-gray-400 px-4",E=[{id:34,name:"vivienda",fieldName:"Vivienda",type:"select",className:"".concat(C),options:[{id:34.1,name:"Propia",fieldName:"Propia"},{id:34.2,name:"Familiar",fieldName:"Familiar"},{id:34.3,name:"Arrendada",fieldName:"Arrendada"}]}],I=[{id:35,name:"direccion",fieldName:"Direcci\xf3n",type:"text",className:"".concat(C)},{id:36,name:"estrato",fieldName:"Estrato",type:"select",className:"".concat(C),options:[{id:1,name:1,fieldName:"Estrato 1"},{id:2,name:2,fieldName:"Estrato 2"},{id:3,name:3,fieldName:"Estrato 3"}]},{id:39,name:"telefono",fieldName:"Tel\xe9fono",type:"number",className:"".concat(C)},{id:40,name:"celular",fieldName:"N\xfamero Celular",type:"number",className:"".concat(C)},{id:41,name:"correo",fieldName:"Correo electr\xf3nico",type:"email",className:"".concat(C)}],D=r(5498),P=r(1859);function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function k(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function Z(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){k(o,t,a,i,l,"next",e)}function l(e){k(o,t,a,i,l,"throw",e)}i(void 0)}))}}function R(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){R(e,n,r[n])}))}return e}function T(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return F(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=z(n.query.usuario,2),d=u[0],_=u[1],N=z(a.useState(!1),2),g=N[0],j=(N[1],{vivienda:"",direccion:"",estrato:"",barrio_vereda:"",comuna:"",telefono:"",celular:"",correo:e.correo||"",nombre_arrendador:"",telefono_arrendador:""}),w={};P.u.forEach((function(e){w[e.COMUNA]=e.NOMBRE_COMUNA}));var S=z(a.useState(j),2),O=S[0],q=S[1],A=z(a.useState(!0),2),C=A[0],F=A[1],k=z(a.useState(null),2),R=k[0],V=k[1],B=z(a.useState(null),2),U=B[0],H=B[1];a.useEffect(Z(s().mark((function e(){var n,t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(_,"?seccion=").concat(i,"&rol=").concat(l),e.next=5,(0,h.Y)(n);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(q(O),V(null),F(!1)),401===a.status&&(F(!1),V("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(q(M({},o)),V(null),F(!1)),e.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);return C?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):R?(0,t.jsx)(x.default,{message:R}):(0,t.jsx)("div",{className:"".concat(g&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:O,validationSchema:m.Ry({vivienda:m.Z_().required("requerido"),direccion:m.Z_().required("requerido"),estrato:m.Rx().required("requerido"),barrio_vereda:m.Z_().required("requerido"),comuna:m.Z_().required("requerido"),telefono:m.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),celular:m.Z_().required("requerido").min(10,"Ingresa un n\xfamero de celular v\xe1lido.").max(20,"Ingresa un n\xfamero de celular v\xe1lido."),correo:m.Z_().email().required("requerido"),nombre_arrendador:m.Z_().when("vivienda",{is:function(e){return"Arrendada"==e},then:m.Z_().required("requerido").typeError("Ingresa un nombre v\xe1lido"),otherwise:m.Z_().notRequired().nullable(!0)}),telefono_arrendador:m.Z_().when("vivienda",{is:function(e){return"Arrendada"==e},then:m.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").typeError("Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),otherwise:m.Z_().notRequired().nullable(!0)})}),onSubmit:function(){var r=Z(s().mark((function r(t){var a,o,i,c,u,m,f,p;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.setForm((function(e){return M({},e,{formulario_individual:M({},e.formulario_individual,{contacto:M({},t,{estrato:parseInt(t.estrato)})})})})),a={seccion:"FDE_6",solicitud_id:e.solicitud_id||_},"Arrendada"!==t.vivienda?(o=t.estrato,i=T(t,["estrato"]),a.data=M({},i,{estrato:Number(o),nombre_arrendador:null,telefono_arrendador:null})):(c=t.telefono,u=t.celular,m=t.telefono_arrendador,f=t.estrato,p=T(t,["telefono","celular","telefono_arrendador","estrato"]),a.data=M({telefono:Number(c),celular:Number(u),nombre_arrendador:nombre_arrendador||"",telefono_arrendador:Number(m)||"",estrato:Number(f)},p)),r.prev=3,r.next=6,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 6:r.sent.responseComplete?(e.setIsCompletedContactCitizen(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||_,"?paso=FDE_7&rol=").concat(l))):(e.setIsCompletedContactCitizen(!1),H("Intenta m\xe1s tarde"),setTimeout((function(){H(null)}),5e3)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(3),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[3,10]])})));return function(e){return r.apply(this,arguments)}}(),children:function(r){var a=r.values;return(0,t.jsxs)(c.l0,{children:[E.map((function(e){if("select"===e.type)return(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id)})),"Arrendada"===a.vivienda?(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Z,{label:"Nombre del arrendador",name:"nombre_arrendador",type:"text",className:"h-10 border border-gray-400 px-4 w-full"},"nombre_arrendador"),(0,t.jsx)(p.Z,{label:"Telefono",name:"telefono_arrendador",type:"number",className:"h-10 border border-gray-400 px-4 w-full"},"telefono_arrendador")]}):null,(0,t.jsx)(f.Z,{id:"comuna",label:"Comuna",name:"comuna",className:"h-10 border border-gray-400 px-4",options:Object.values(w),render:function(e,n){return(0,t.jsx)("option",{value:"".concat(e),children:"".concat(e)},n)}},"comuna"),(0,t.jsx)(f.Z,{id:"barrio_vereda",label:"Barrio o Vereda",name:"barrio_vereda",className:"h-10 border border-gray-400 px-4",options:P.u.filter((function(e){return e.NOMBRE_COMUNA===a.comuna})),render:function(e,n){return(0,t.jsx)("option",{value:"".concat(e.BARRIO,"-").concat(e.NOMBRE_BARRIO),children:"".concat(e.NOMBRE_BARRIO)},n)}},"barrio_vereda"),I.map((function(e){return"select"===e.type?(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"tel"===e.type?(0,t.jsx)(D.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id):"date"===e.type?(0,t.jsx)("div",{children:(0,t.jsx)(b.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id):(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),U?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:U}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||_,"?paso=FDE_5&rol=").concat(l))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})})},B="h-10 border border-gray-400 px-4",U=[{id:1,name:"tipo_solicitud",fieldName:"Tipo de Solicitud",type:"select",className:"".concat(B),options:[{id:1.1,name:"Creacion",fieldName:"Creaci\xf3n"},{id:1.2,name:"Fortalecimiento",fieldName:"Fortalecimiento"}]},{id:2,name:"linea_credito",fieldName:"L\xednea de cr\xe9dito",type:"select",className:"".concat(B),options:[{id:2.1,name:"Microempresarial",fieldName:"Microempresarial"},{id:2.2,name:"Capital Semilla",fieldName:"Capital Semilla"},{id:2.3,name:"Agroindustrial",fieldName:"Agroindustrial"},{id:2.4,name:"Venteros Informales",fieldName:"Venteros Informales"}]},{id:3,name:"tipo_credito",fieldName:"Cr\xe9dito",type:"select",className:"".concat(B),options:[{id:3.1,name:"Nuevo",fieldName:"Nuevo"},{id:3.2,name:"Renovaci\xf3n",fieldName:"Renovaci\xf3n"}]}],H=("".concat(B),"".concat(B),[{id:8,name:"descripcion",fieldName:"Descripci\xf3n de la inversi\xf3n - \xbfC\xf3mo vas a invertir el capital de trabajo?",type:"text-area",className:"h-18 border border-gray-400 min-h-18 p-4"}]);function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function L(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){L(e,n,r[n])}))}return e}function J(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return $(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e){var n=e.label,r=J(e,["label"]),a=W((0,c.U$)(r),2),o=a[0],i=a[1];return(0,t.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,t.jsx)("label",{htmlFor:r.name,children:n}),(0,t.jsx)("textarea",Y({id:r.name,name:r.name},o,r,{className:"".concat(r.className," rounded-lg border border-gray-400")})),(0,t.jsx)("div",{children:i.touched&&i.error?(0,t.jsx)("div",{className:"error",children:i.error}):null})]},r.key)},X=r(4108),K=r(4986);function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function ee(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function ne(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){ee(o,t,a,i,l,"next",e)}function l(e){ee(o,t,a,i,l,"throw",e)}i(void 0)}))}}function re(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function te(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){re(e,n,r[n])}))}return e}function ae(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Q(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=ae(n.query.usuario,2),d=u[0],b=u[1],_=ae(a.useState({tipo_solicitud:"",linea_credito:"",tipo_credito:"",monto_solicitado:"",plazo:"",activos:"",capital_trabajo:"",descripcion:""}),2),N=_[0],g=_[1],j=ae(a.useState(!0),2),w=j[0],S=j[1],O=ae(a.useState(!1),2),q=O[0],A=(O[1],ae(a.useState(!1),2)),C=A[0],E=(A[1],ae(a.useState(null),2)),I=E[0],D=E[1],P=ae(a.useState(null),2),F=P[0],k=P[1],Z=ae(a.useState([]),2),R=Z[0],M=Z[1],T=ae(a.useState(),2);T[0],T[1];a.useEffect(ne(s().mark((function e(){var n,t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(b,"?seccion=").concat(i),e.next=5,(0,h.Y)(n);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(g(N),D(null),S(!1)),401===a.status&&(S(!1),D("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(g(te({},o)),D(null),S(!1)),e.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);function z(e){return V.apply(this,arguments)}function V(){return(V=ne(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=ne(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("https://www.medellin.gov.co/bancopobres/autenticacionms/","auth/obtener-token-interno"),e.next=4,z(n);case 4:return r=e.sent.access_token,localStorage.setItem("token_interno",r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function $(){return L.apply(this,arguments)}function L(){return(L=ne(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,K.n0)("config/credito/portafolio",{type:K.lO.config});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,M(r),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return a.useEffect((function(){(function(){return B.apply(this,arguments)})().then((function(){return $()}))}),[]),w?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):I?(0,t.jsx)(x.default,{message:I}):(0,t.jsx)("div",{className:"".concat(C&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:N,validationSchema:m.Ry({tipo_solicitud:m.Z_().required("requerido").oneOf(["Creacion","Fortalecimiento"]),linea_credito:m.Z_().required("requerido").oneOf(["Microempresarial","Capital Semilla","Agroindustrial","Venteros Informales","Egresados"]),tipo_credito:m.Z_().required("requerido").oneOf(["Nuevo","Renovaci\xf3n"]),monto_solicitado:m.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive(" Debe ser mayor a 0").test("monto_solicitado","",(function(e,n){var r,t,a,o,i=R.filter((function(e){return e.nombre===n.parent.linea_credito})),l=function(e){return e&&e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};return e>=(null===(r=i[0])||void 0===r?void 0:r.monto_minimo)&&e<=(null===(t=i[0])||void 0===t?void 0:t.monto_total)||this.createError({message:"Para este cr\xe9dito se permite m\xednimo ".concat(l(null===(a=i[0])||void 0===a?void 0:a.monto_minimo),"  - hasta ").concat(l(null===(o=i[0])||void 0===o?void 0:o.monto_total))})})).test("monto_sum","El monto solicitado debe ser igual a la suma de los activos y el capital de trabajo",(function(e,n){return e==n.parent.activos+n.parent.capital_trabajo})),plazo:m.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive(" Debe ser mayor a 0").test("plazo","",(function(e,n){var r,t,a=R.filter((function(e){return e.nombre===n.parent.linea_credito}));return e>=1&&e<=(null===(r=a[0])||void 0===r?void 0:r.num_cuotas)||this.createError({message:"Maximo ".concat(null===(t=a[0])||void 0===t?void 0:t.num_cuotas," Cuotas")})})),activos:m.Rx().typeError("Debe ser un n\xfamero").required("requerido").min(0,"Debe ser mayor o igual a 0"),capital_trabajo:m.Rx().typeError("Debe ser un n\xfamero").required("requerido").min(0,"Debe ser mayor o igual a 0"),descripcion:m.Z_().required("requerido").max(100,"No puede exceder a 100 caract\xe9res")}),onSubmit:function(){var t=ne(s().mark((function t(a){var o,i,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setForm((function(e){return te({},e,{formulario_individual:te({},e.formulario_individual,{destino_credito:te({},a)})})})),o={seccion:"FDE_3",solicitud_id:e.solicitud_id||b,data:te({},a)},t.prev=2,t.next=5,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),o);case 5:if(i=t.sent,i.res,c=i.responseComplete,!i.error){t.next=13;break}return window.localStorage.clear(),r("/login"),t.abrupt("return");case 13:c?(e.setIsCompletedCreditDestination(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_4&rol=").concat(l))):(e.setIsCompletedCreditDestination(!1),k("Intenta m\xe1s tarde"),setTimeout((function(){k(null)}),5e3)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}(),children:function(r){var o=r.values;return(0,t.jsxs)(c.l0,{children:[U.map((function(e){if("select"===e.type)return(0,t.jsx)(f.Z,{disabled:""!=o[e.name]&&"USUARIO"==l,id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id)})),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("label",{className:"mb-2",children:[" ","Monto solicitado",(0,t.jsx)(p.Z,{type:"number",onWheel:X.F,name:"monto_solicitado",className:"w-full h-10 border border-gray-400",min:"0"})]})}),(0,t.jsxs)("label",{children:[" ","Plazo (meses)",(0,t.jsx)(p.Z,{type:"number",name:"plazo",onWheel:X.F,className:"w-full block h-10 border border-gray-400 px-4",min:"2"})]}),H.map((function(e){return"text-area"===e.type?(0,t.jsx)(G,{label:e.fieldName,name:e.name,className:e.className,type:e.type},e.id):(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,className:e.className,type:e.type},e.id)})),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("label",{className:"mb-2",children:[" ","Activos - \xbfCu\xe1nto vas a invertir en equipos y m\xe1quinas?"," ",(0,t.jsx)(p.Z,{type:"number",onWheel:X.F,name:"activos",className:"w-full block h-10 border border-gray-400 px-4",min:"2"})]})}),(0,t.jsx)(a.Fragment,{children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("label",{className:"mb-2",children:["Capital de trabajo - \xbfCu\xe1nto vas a invertir en insumos o materia prima?",(0,t.jsx)(p.Z,{type:"number",onWheel:X.F,name:"capital_trabajo",className:"w-full block h-10 border border-gray-400 px-4",min:"2"})]})})}),F?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:F}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_2&rol=").concat(l)),$()},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]}),q?(0,t.jsx)("p",{children:"Algo sali\xf3 mal :("}):null]})}})})};var ie=r(4775),le=r(6795);function se(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function ce(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function ue(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){ce(o,t,a,i,l,"next",e)}function l(e){ce(o,t,a,i,l,"throw",e)}i(void 0)}))}}function de(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function me(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){de(e,n,r[n])}))}return e}function fe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return se(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe={experiencia_crediticia:!1,tiene_credito_vigente:!1,entidad:"",monto_total:"",valor_adeudado:""},be=function(e){var n=(0,le.Eu)().logout,r=(0,y.useRouter)(),o=(0,y.useRouter)().push,i=r.query,l=i.paso,c=i.rol,u=fe(r.query.usuario,2),d=u[0],m=u[1],f=fe(a.useState(!1),1)[0],p=fe(a.useState(pe),2),b=p[0],_=p[1],N=fe(a.useState(!0),2),g=N[0],j=N[1],w=fe(a.useState(null),2),S=w[0],O=w[1],q=fe(a.useState(null),2),A=q[0],C=q[1],E=a.useRef(null);a.useEffect((function(){function e(){return(e=ue(s().mark((function e(){var n,r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(m,"?seccion=").concat(l),e.next=5,(0,h.Y)(n);case 5:return r=e.sent.response,e.next=8,r.json();case 8:t=e.sent,404===r.status&&(_(pe),O(null),j(!1)),401===r.status&&(j(!1),O("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===r.status&&(_(me({},t)),O(null),j(!1)),400===r.status&&(j(!1),O(null)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,l,o,m]);var I=function(e){var n=e.target;_(me({},b,de({},n.name,n.value)))};a.useEffect((function(){!1===b.experiencia_crediticia&&_({initialValues:pe}),!0===b.experiencia_crediticia&&!1===b.tiene_credito_vigente&&_(me({},pe,{experiencia_crediticia:!0}))}),[b.experiencia_crediticia,b.tiene_credito_vigente]);var D=function(){var n=ue(s().mark((function n(t){var a,o,i,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a=b.experiencia_crediticia,o=b.tiene_credito_vigente,i=b.monto_total,l=b.entidad,e.setForm((function(e){return me({},e,{formulario_individual:me({},e.formulario_individual,{informe_financiero_solicitante:me({},b)})})})),u={seccion:"FDE_9",solicitud_id:e.solicitud_id||m,data:{entidad:l,experiencia_crediticia:a||!1,tiene_credito_vigente:o||!1,valor_adeudado:!1===Boolean(i)?0:Number(i),monto_total:!1===Boolean(i)?0:Number(i)}},n.prev=4,n.next=7,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),u);case 7:n.sent.responseComplete?(e.setIsCompletedFinancialReportApplicant(!0),e.setCurrent(e.current+1),r.push("/individual/".concat(d,"/").concat(e.solicitud_id||m,"?paso=FDE_10&rol=").concat(c))):(e.setIsCompletedFinancialReportApplicant(!1),C("Intenta m\xe1s tarde"),setTimeout((function(){C(null)}),5e3)),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(4);case 13:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}();return g?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):S?(0,t.jsx)(x.default,{message:S}):(0,t.jsxs)("div",{className:"".concat(f&&"hidden"," mb-8"),children:[(0,t.jsx)("h1",{className:"font-bold mb-4 text-center md:text-left text-3xl text-color_primary_1",children:"Reporte Financiero"}),(0,t.jsxs)("form",{onSubmit:D,children:[(0,t.jsxs)("div",{className:"text-center md:text-left mb-6",children:[(0,t.jsx)("label",{children:"\xbfHa tenido experiencia de cr\xe9dito?"}),(0,t.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",children:[(0,t.jsxs)("label",{className:"mr-4",children:[(0,t.jsx)("input",{type:"radio",name:"experiencia_crediticia",value:!0,onChange:function(){return _(me({},b,de({},"experiencia_crediticia",!0)))},checked:!0===b.experiencia_crediticia}),"Si"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{ref:E,type:"radio",name:"experiencia_crediticia",value:!1,onChange:function(){E.current.checked=!0,_(me({},b,de({},"experiencia_crediticia",!1)))}}),"No"]})]})]}),!0===b.experiencia_crediticia?(0,t.jsxs)(a.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center md:text-left mb-6",children:[(0,t.jsx)("label",{children:"\xbfTiene un cr\xe9dito vigente?"}),(0,t.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",children:[(0,t.jsxs)("label",{className:"mr-4",children:[(0,t.jsx)("input",{type:"radio",value:!0,name:"tiene_credito_vigente",onChange:function(){return _(me({},b,de({},"tiene_credito_vigente",!0)))},checked:!0===b.tiene_credito_vigente}),"Si"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",value:!1,name:"tiene_credito_vigente",onChange:function(){return _(me({},b,de({},"tiene_credito_vigente",!1)))},checked:!1===b.tiene_credito_vigente}),"No"]})]})]}),!0===b.tiene_credito_vigente?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"entidad",children:"Entidad"}),(0,t.jsx)("input",{type:"text",name:"entidad",id:"entidad",onChange:I,className:"px-4 h-10 rounded-lg border border-gray-400 w-full mb-6",value:b.entidad})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"monto_total",children:"Monto total del cr\xe9dito"}),(0,t.jsx)("input",{type:"number",onWheel:X.F,name:"monto_total",id:"monto_total",onChange:I,className:"px-4 h-10 rounded-lg border border-gray-400 w-full mb-6",value:b.monto_total})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"valor_adeudado",children:"Valor adeudado a la fecha"}),(0,t.jsx)("input",{type:"number",onWheel:X.F,name:"valor_adeudado",id:" valor_adeudado",onChange:I,className:"px-4 h-10 rounded-lg border border-gray-400 w-full mb-6",value:b.valor_adeudado})]})]}):null]}):null,(0,t.jsx)(ie.V,{solicitud_credito:e.solicitud_id||m,cedula:d}),A?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:A}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){r.push("/individual/".concat(d,"/").concat(e.solicitud_id||m,"?paso=FDE_8&rol=").concat(c))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{onClick:D,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Finalizar"," "]})]})]})]})},ve="h-10 border border-gray-400 px-4",ye=[{id:"42-name",name:"nombre_negocio",fieldName:"Nombre del negocio",type:"text",className:"".concat(ve)},{id:42,name:"direccion",fieldName:"Direcci\xf3n del negocio",type:"text",className:"".concat(ve)},{id:"42.a",name:"fecha_creacion",fieldName:"Fecha de creacion del negocio",type:"date",className:"".concat(ve)},{id:"42.b",name:"telefono",fieldName:"Tel\xe9fono",type:"number",className:"".concat(ve)},{id:32,name:"macrosector",fieldName:"Macro-Sector",type:"select",className:"".concat(ve),options:[{id:32.1,name:"Comercio",fieldName:"Comercio"},{id:32.2,name:"Producci\xf3n",fieldName:"Producci\xf3n"},{id:32.3,name:"Servicios",fieldName:"servicios"},{id:32.4,name:"Agropecuario",fieldName:"Agropecuario"}]},{id:33,name:"subsector",fieldName:"Subsector",type:"select",className:"".concat(ve),options:[{id:33.0011,name:"Alimentos",fieldName:"Alimentos"},{id:33.2,name:"Aseo",fieldName:"Aseo"},{id:33.3,name:"Artesanos",fieldName:"Artesanos"},{id:33.4,name:"Textil",fieldName:"Textil"},{id:33.5,name:"Madera",fieldName:"Madera"},{id:33.6,name:"Belleza",fieldName:"Belleza"},{id:33.7,name:"Tecnolog\xeda",fieldName:"tecnolog\xeda"},{id:33.8,name:"Mantenimiento y reparaci\xf3n",fieldName:"Mantenimiento y Reparaci\xf3n"},{id:33.9,name:"Tiendas",fieldName:"Tiendas"},{id:33.1,name:"Transporte",fieldName:"Transporte"},{id:33.11,name:"Miscelaneas",fieldName:"Miscelaneas"},{id:33.12,name:"Depositos y Ferreter\xeda",fieldName:"depositos y ferreter\xedas"},{id:33.13,name:"Licores",fieldName:"Licores"},{id:33.14,name:"Ventas por Catalogo",fieldName:"Ventas por cat\xe1logo"},{id:33.15,name:"Mensajer\xeda",fieldName:"Mensajer\xeda"},{id:33.16,name:"Ventas Ambulantes",fieldName:"Ventas Ambulantes"},{id:33.17,name:"Otros",fieldName:"Otros"}]},{id:43,name:"tipo_persona",fieldName:"Tipo de persona",type:"select",className:"".concat(ve),options:[{id:43.1,name:"Natural",fieldName:"Natural"},{id:43.2,name:"Juridica",fieldName:"Jur\xeddica"}]},{id:44,name:"num_empl_permanentes",fieldName:"N\xfamero de empleados permanentes",type:"number",className:"".concat(ve)},{id:45,name:"num_empl_eventuales",fieldName:"N\xfamero eventuales de empleados",type:"number",className:"".concat(ve)},{id:46,name:"local",fieldName:"Local",type:"select",className:"".concat(ve),options:[{id:46.1,name:"Propio",fieldName:"Propio"},{id:46.2,name:"Arrendado",fieldName:"Arrendado"}]}];function he(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function xe(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function _e(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){xe(o,t,a,i,l,"next",e)}function l(e){xe(o,t,a,i,l,"throw",e)}i(void 0)}))}}function Ne(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ge(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ne(e,n,r[n])}))}return e}function je(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function we(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return he(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=we(n.query.usuario,2),d=u[0],_=u[1],N=we(a.useState(!1),2),g=N[0],j=(N[1],{});P.u.forEach((function(e){j[e.COMUNA]=e.NOMBRE_COMUNA}));var w=we(a.useState({nombre_negocio:"",comuna:"",direccion:"",fecha_creacion:"",telefono:"",macrosector:"",subsector:"",tipo_persona:"",num_empl_permanentes:"",num_empl_eventuales:"",local:"",nombre_arrendador:"",telefono_arrendador:""}),2),S=w[0],O=w[1],q=we(a.useState(!0),2),A=q[0],C=q[1],E=we(a.useState(null),2),I=E[0],D=E[1],F=we(a.useState(null),2),k=F[0],Z=F[1];a.useEffect(_e(s().mark((function e(){var n,t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(_,"?seccion=").concat(i),e.next=5,(0,h.Y)(n);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(O(S),D(null),C(!1)),401===a.status&&(C(!1),D("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(O(ge({},o)),D(null),C(!1)),e.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);return A?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):I?(0,t.jsx)(x.default,{message:I}):(0,t.jsx)("div",{className:"".concat(g&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:S,validationSchema:m.Ry({nombre_negocio:m.Z_().required("requerido"),comuna:m.Z_().required("requerido"),direccion:m.Z_().required("requerido"),fecha_creacion:m.hT().required("requerido").max((new Date).toISOString().slice(0,10),"Ingresa una fecha v\xe1lida."),telefono:m.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),macrosector:m.Z_().required("requerido").oneOf(["Comercio","Producci\xf3n","Servicios","Agropecuario"]),subsector:m.Z_().required("requerido").oneOf(["Alimentos","Aseo","Artesanos","Textil","Madera","Belleza","Tecnolog\xeda","Mantenimiento y reparaci\xf3n","Tiendas","Transporte","Miscelaneas","Depositos y Ferreter\xeda","Licores","Ventas por Catalogo","Mensajer\xeda","Ventas Ambulantes","Otros"]),tipo_persona:m.Z_().required("requerido").oneOf(["Natural","Juridica"]),num_empl_permanentes:m.Rx().required("requerido").typeError("Debe ser un numero"),num_empl_eventuales:m.Rx().nullable(!0).typeError("Debe ser un numero"),local:m.Z_().required("requerido").oneOf(["Propio","Arrendado"]),nombre_arrendador:m.Z_().nullable(!0),numero_arrendador:m.Rx().nullable(!0).typeError("Debe ser n\xfamero").positive()}),onSubmit:function(){var r=_e(s().mark((function r(t){var a,o,i,c,u,m,f,p;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.setForm((function(e){return ge({},e,{formulario_individual:ge({},e.formulario_individual,{informacion_negocio:ge({},t)})})})),a={seccion:"FDE_7",solicitud_id:e.solicitud_id||_},"Arrendado"!==t.local?(t.nombre_arrendador,t.telefono_arrendador,o=t.telefono,i=je(t,["nombre_arrendador","telefono_arrendador","telefono"]),a.data=ge({},i,{nombre_arrendador:null,telefono_arrendador:null,telefono:Number(o)})):(c=t.telefono_arrendador,u=t.telefono,m=je(t,["telefono_arrendador","telefono"]),a.data=ge({},m,{telefono_arrendador:Number(c),telefono:Number(u)})),r.prev=3,r.next=6,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 6:f=r.sent,f.res,p=f.responseComplete,f.error,p?(e.setIsCompletedInfoBusiness(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||_,"?paso=FDE_8&rol=").concat(l))):(e.setIsCompletedInfoBusiness(!1),Z("Intenta m\xe1s tarde"),setTimeout((function(){Z(null)}),5e3)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}(),children:function(r){var a=r.values;return(0,t.jsxs)(c.l0,{children:[(0,t.jsx)(f.Z,{id:"comuna",label:"Comuna donde est\xe1 el negocio",name:"comuna",className:"h-10 border border-gray-400 px-4",options:Object.values(j),render:function(e,n){return(0,t.jsx)("option",{value:"".concat(e),children:"".concat(e)},n)}},"comuna"),ye.map((function(e){return"select"===e.type?(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"date"===e.type?(0,t.jsx)("div",{children:(0,t.jsx)(b.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id):(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),"Arrendado"===a.local?(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Z,{label:"Nombre del arrendador",name:"nombre_arrendador",type:"text",className:"h-10 border border-gray-400 px-4 w-full"},"nombre_arrendador"),(0,t.jsx)(p.Z,{label:"Telefono",name:"telefono_arrendador",type:"number",onWheel:X.F,className:"h-10 border border-gray-400 px-4 w-full"},"telefono_arrendador")]}):null,k?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:k}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||_,"?paso=FDE_6&rol=").concat(l))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})})},Oe="h-10 border border-gray-400 px-4",qe=[{id:20,name:"nombre",fieldName:"Nombre del c\xf3nyugue",type:"text",className:"".concat(Oe)},{id:21,name:"num_identificacion",fieldName:"No. De identificaci\xf3n",type:"number",className:"".concat(Oe)},{id:22,name:"telefono",fieldName:"Tel\xe9fono del c\xf3nyugue o pareja",type:"number",className:"".concat(Oe)}];function Ae(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Ce(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function Ee(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){Ce(o,t,a,i,l,"next",e)}function l(e){Ce(o,t,a,i,l,"throw",e)}i(void 0)}))}}function Ie(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function De(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ie(e,n,r[n])}))}return e}function Pe(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ae(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ke=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=Fe(n.query.usuario,2),d=u[0],b=u[1],_=Fe(a.useState(!1),2),N=_[0],g=(_[1],Fe(a.useState({nombre:"",num_identificacion:"",telefono:""}),2)),j=g[0],w=g[1],S=Fe(a.useState(!0),2),O=S[0],q=S[1],A=Fe(a.useState(null),2),C=A[0],E=A[1],I=Fe(a.useState(null),2),P=I[0],F=I[1];a.useEffect(Ee(s().mark((function e(){var n,t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(b,"?seccion=").concat(i),e.next=5,(0,h.Y)(n);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(w(j),E(null),q(!1)),401===a.status&&(q(!1),E("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(w(De({},o)),E(null),q(!1)),e.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);var k=function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_3&rol=").concat(l))};return O?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):C?(0,t.jsx)(x.default,{message:C}):(0,t.jsx)("div",{className:"".concat(N&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:j,validationSchema:m.Ry({nombre:m.Z_().matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales.").nullable(!0),num_identificacion:m.Rx().typeError("Debe ser un numero").nullable(!0).test("required_if_name","Requerido si se especifica nombre de c\xf3nyugue.",(function(e,n){return void 0===n.parent.nombre||void 0!==n.parent.nombre&&void 0!==e})),telefono:m.Rx().typeError("Debe ser un numero").positive().notRequired()}),onSubmit:function(){var t=Ee(s().mark((function t(a){var o,i,c,u,m,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setForm((function(e){return De({},e,{formulario_individual:De({},e.formulario_individual,{conyugue:De({},a)})})})),o=a.telefono,i=a.num_identificacion,c=Pe(a,["telefono","num_identificacion"]),u={seccion:"FDE_4",solicitud_id:e.solicitud_id||b,data:De({telefono:Number(o),num_identificacion:Number(i)},c)},t.prev=3,t.next=6,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),u);case 6:if(m=t.sent,f=m.responseComplete,!m.error){t.next=13;break}return window.localStorage.clear(),r("/login"),t.abrupt("return");case 13:f?(e.setIsCompletedInfoMate(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_5&rol=").concat(l))):(e.setIsCompletedInfoMate(!1),F("Intenta m\xe1s tarde"),setTimeout((function(){F(null)}),5e3)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}(),children:function(){return(0,t.jsxs)(c.l0,{children:[qe.map((function(e){return"select"===e.type?(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"tel"===e.type?(0,t.jsx)(D.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id):(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),P?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:P}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:k,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Siguiente"," "]})]})]})}})})},Ze="h-10 border border-gray-400 px-4 ",Re=[{id:23,name:"sexo",fieldName:"Sexo",type:"select",className:"".concat(Ze),options:[{id:23.1,name:"Masculino",fieldName:"Masculino"},{id:23.2,name:"Femenino",fieldName:"Femenino"},{id:23.3,name:"Intersexual",fieldName:"Intersexual"},{id:23.4,name:"Indefinido",fieldName:"Indefinido"}]},{id:24,name:"orientacion_sexual",fieldName:"Orientaci\xf3n sexual",type:"select",className:"".concat(Ze),options:[{id:24.3,name:"Heterosexual",fieldName:"Heterosexual"},{id:24.1,name:"Lesbiana",fieldName:"Lesbiana"},{id:24.2,name:"Bisexual",fieldName:"Bisexual"},{id:24.2,name:"Gay",fieldName:"Gay"},{id:24.2,name:"Asexual",fieldName:"Asexual"},{id:24.2,name:"Pansexual",fieldName:"Pansexual"},{id:24.2,name:"Homosexual",fieldName:"Homosexual"},{id:24.2,name:"Sin Dato",fieldName:"Sin Dato"},{id:24.2,name:"No sabe No responde",fieldName:"No sabe No responde"}]},{id:"identidad-genero-25",name:"identidad_genero",fieldName:"Identidad de genero",type:"select",className:"".concat(Ze),options:[{id:"identidad-genero-25.1",name:"Mujer Trans",fieldName:"Mujer Trans"},{id:"identidad-genero-25.2",name:"Hombre Trans",fieldName:"Hombre Trans"},{id:"identidad-genero-25.3",name:"Fluido-No Binario",fieldName:"Fluido-No Binario"},{id:"identidad-genero-25.4",name:"Mujer Cis",fieldName:"Mujer Cis"},{id:"identidad-genero-25.5",name:"Hombre Cis",fieldName:"Hombre Cis"},{id:"identidad-genero-25.6",name:"Travesti",fieldName:"Travesti"},{id:"identidad-genero-25.7",name:"Transexual",fieldName:"Transexual"},{id:"identidad-genero-25.8",name:"Transformista",fieldName:"Transformista"},{id:"identidad-genero-25.9",name:"Otro",fieldName:"Otro"},{id:"identidad-genero-25.10",name:"Sin Dato",fieldName:"Sin Dato"},{id:"identidad-genero-25.10",name:"No sabe No responde",fieldName:"No sabe No responde"}]},{id:25,name:"etnia",fieldName:"Etnia",type:"select",className:"".concat(Ze),options:[{id:25.1,name:"Afrocolombiano",fieldName:"AfroColombiano"},{id:25.2,name:"Indigena",fieldName:"Ind\xedgena"},{id:25.3,name:"Palenquero",fieldName:"Palenquero"},{id:25.4,name:"Raizal",fieldName:"Raizal"},{id:25.4,name:"ROM-GITANO",fieldName:"ROM-GITANO"},{id:25.4,name:"Negro",fieldName:"Negro"},{id:25.4,name:"Ninguno",fieldName:"Ninguno"}]},{id:26,name:"discapacidad",fieldName:"Discapacidad",type:"select",className:"".concat(Ze),options:[{id:26.1,name:"Discapacidad Auditiva",fieldName:"Discapacidad Auditiva"},{id:26.2,name:"Discapacidad Cognitiva",fieldName:"Discapacidad Cognitiva"},{id:26.3,name:"Discapacidad Fisica",fieldName:"Discapacidad Fisica"},{id:26.4,name:"Discapacidad Mental",fieldName:"Discapacidad Mental"},{id:26.5,name:"Discapacidad Visual",fieldName:"Discapacidad Visual"},{id:26.6,name:"Discapacidad Multiple",fieldName:"Discapacidad Multiple"},{id:26.7,name:"No tiene Discapacidad",fieldName:"No tiene Discapacidad"}]},{id:27,name:"victima",fieldName:"V\xedctima de conflicto",type:"select",className:"".concat(Ze),options:[{id:27.1,name:"SI",fieldName:"SI"},{id:27.2,name:"NO",fieldName:"NO"}]},{id:28,name:"poblacion_campesina",fieldName:"Poblaci\xf3n campesina",type:"select",className:"".concat(Ze),options:[{id:28.1,name:"SI",fieldName:"SI"},{id:28.2,name:"NO",fieldName:"NO"}]},{id:29,name:"estado_civil",fieldName:"Estado Civ\xedl",type:"select",className:"".concat(Ze),options:[{id:29.1,name:"Soltero",fieldName:"Soltero"},{id:29.2,name:"Casado",fieldName:"Casado"},{id:29.3,name:"Viudo",fieldName:"Viudo"},{id:29.4,name:"Union Libre",fieldName:"Uni\xf3n libre"},{id:29.5,name:"Divorciado",fieldName:"Divorciado"}]},{id:30,name:"nivel_escolaridad",fieldName:"Nivel de escolaridad",type:"select",className:"".concat(Ze),options:[{id:30.1,name:"Ninguno",fieldName:"Ninguno"},{id:30.2,name:"Primaria",fieldName:"Primaria"},{id:30.3,name:"Bachiller",fieldName:"Bachiller"},{id:30.4,name:"Tecnico",fieldName:"T\xe9cnico"},{id:30.5,name:"Tecnologo",fieldName:"Tecn\xf3logo"},{id:30.6,name:"Profesional",fieldName:"Profesional"},{id:30.7,name:"Especialista",fieldName:"Especialista"}]},{id:31,name:"rol_hogar",fieldName:"Rol en el hogar",type:"select",className:"".concat(Ze),options:[{id:31.1,name:"Cabeza Hogar",fieldName:"Cabeza de Hogar"},{id:31.2,name:"Aporta economicamente",fieldName:"Aporta economicamente"},{id:31.3,name:"No aporta",fieldName:"No aporta "}]}];function Me(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Te(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function ze(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){Te(o,t,a,i,l,"next",e)}function l(e){Te(o,t,a,i,l,"throw",e)}i(void 0)}))}}function Ve(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Be(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ve(e,n,r[n])}))}return e}function Ue(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Me(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=Ue(n.query.usuario,2),d=u[0],b=u[1],_=Ue(a.useState(!1),2),N=_[0],g=(_[1],Ue(a.useState({sexo:"",orientacion_sexual:"",identidad_genero:"",etnia:"",discapacidad:"",victima:"",poblacion_campesina:"",estado_civil:"",nivel_escolaridad:"",rol_hogar:""}),2)),j=g[0],w=g[1],S=Ue(a.useState(!0),2),O=S[0],q=S[1],A=Ue(a.useState(null),2),C=A[0],E=A[1],I=Ue(a.useState(null),2),D=I[0],P=I[1];a.useEffect(ze(s().mark((function e(){var n,t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(b,"?seccion=").concat(i),e.next=5,(0,h.Y)(n);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(w(j),E(null),q(!1)),401===a.status&&(q(!1),E("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(w(Be({},o)),E(null),q(!1)),e.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);return O?(0,t.jsx)("div",{children:"Loading..."}):C?(0,t.jsx)(x.default,{message:C}):(0,t.jsx)("div",{className:"".concat(N&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:j,validationSchema:m.Ry({sexo:m.Z_().required("requerido").oneOf(["Masculino","Femenino","Intersexual","Indefinido"]),orientacion_sexual:m.Z_().required("requerido").oneOf(["Heterosexual","Lesbiana","Bisexual","Gay","Asexual","Pansexual","Homosexual","Sin Dato","No sabe No responde"]),identidad_genero:m.Z_().required("requerido").oneOf(["Mujer Trans","Hombre Trans","Fluido-No Binario","Mujer Cis","Hombre Cis","Travesti","Transexual","Transformista","Otro","Sin Dato","No sabe No responde"]),etnia:m.Z_().required("requerido"),discapacidad:m.Z_().required("requerido").oneOf(["Discapacidad Auditiva","Discapacidad Cognitiva","Discapacidad Fisica","Discapacidad Mental","Discapacidad Visual","Discapacidad Multiple","No tiene Discapacidad"]),victima:m.Z_().required("requerido").oneOf(["SI","NO"]),poblacion_campesina:m.Z_().required("requerido").oneOf(["SI","NO"]),estado_civil:m.Z_().required("requerido").oneOf(["Soltero","Casado","Viudo","Union Libre","Divorciado"]),nivel_escolaridad:m.Z_().required("requerido").oneOf(["Ninguno","Priimaria","Bachiller","Tecnico","Tecnologo","Profesional","Especialista"]),rol_hogar:m.Z_().required("requerido").oneOf(["Cabeza Hogar","Aporta economicamente","No aporta"])}),onSubmit:function(){var r=ze(s().mark((function r(t){var a,o,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.setForm((function(e){return Be({},e,{formulario_individual:Be({},e.formulario_individual,{variables_poblacionales:Be({},t)})})})),a={seccion:"FDE_5",solicitud_id:e.solicitud_id||b,data:Be({},t)},r.prev=2,r.next=5,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 5:o=r.sent,o.res,i=o.responseComplete,o.error,i?(e.setIsCompletedPopulationVariables(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_6&rol=").concat(l))):(e.setIsCompletedPopulationVariables(!1),P("Intenta m\xe1s tarde"),setTimeout((function(){P(null)}),5e3)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[2,12]])})));return function(e){return r.apply(this,arguments)}}(),children:function(r){return(0,t.jsxs)(c.l0,{children:[(0,t.jsx)("h2",{className:"text-xl text-center font-medium mb-4",children:"Informaci\xf3n personal Adicional"}),Re.map((function(e){return"select"===e.type?(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,className:e.className},e.id)})),D?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:D}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||b,"?paso=FDE_4&rol=").concat(l))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})})},$e="h-10 border border-gray-400 px-4",Le=[{id:51,name:"nombre_referencia_familiar",fieldName:"Nombre completo - referencia familiar",type:"text",className:"".concat($e)},{id:52,name:"parentesco",fieldName:"Parentesco",type:"text",className:"".concat($e)},{id:53,name:"numero_telefonico",fieldName:"N\xfamero telef\xf3nico",type:"number",className:"".concat($e)},{id:54,name:"nombre_referencia_familiar_alt",fieldName:"Nombre completo - referencia familiar",type:"text",className:"".concat($e)},{id:58,name:"parentesco_alt",fieldName:"Parentesco",type:"text",className:"".concat($e)},{id:59,name:"numero_telefonico_alt",fieldName:"N\xfamero telef\xf3nico o celular",type:"number",className:"".concat($e)}];function Ye(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Je(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function We(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){Je(o,t,a,i,l,"next",e)}function l(e){Je(o,t,a,i,l,"throw",e)}i(void 0)}))}}function Ge(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Xe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ge(e,n,r[n])}))}return e}function Ke(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ye(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qe=function(e){var n=(0,y.useRouter)(),r=(0,y.useRouter)().push,o=n.query,i=o.paso,l=o.rol,u=Ke(n.query.usuario,2),d=u[0],f=u[1],b=Ke(a.useState(!1),2),_=b[0],N=(b[1],Ke(a.useReducer((function(e,n){return Xe({},e,n)}),{ref_personal_1:void 0,ref_personal_2:void 0,ref_comercial:void 0}),2)),g=N[0],j=g.ref_personal_1,w=g.ref_personal_2,S=(g.ref_comercial,N[1]),O={nombre_referencia_familiar:"",parentesco:"",numero_telefonico:"",nombre_referencia_familiar_alt:"",parentesco_alt:"",numero_telefonico_alt:""},q=Ke(a.useState(!1),2),A=q[0],C=q[1],E=Ke(a.useState(!0),2),I=(E[0],E[1]),D=Ke(a.useState(null),2),P=D[0],F=D[1],k=Ke(a.useState(O),2),Z=k[0],R=k[1],M=Ke(a.useState(null),2),T=M[0],z=M[1],V=Ke(a.useState(null),2),B=V[0],U=V[1];a.useEffect(We(s().mark((function n(){var t,a,o,l,c,u,d,m;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C(!1),n.prev=1,t="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(e.solicitud_id||f,"?seccion=").concat(i),n.next=5,(0,h.Y)(t);case 5:if(a=n.sent,o=a.response,a.error){n.next=17;break}return n.next=11,o.json();case 11:l=n.sent,404===o.status&&(z(null),I(!1),C(!0),R(O)),401===o.status&&(I(!1),z("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente"),C(!0)),200===o.status&&(c=Ke(l,2),u=c[0],d=c[1],S({ref_personal_1:u,ref_personal_2:d}),z(null),I(!1),m={nombre_referencia_familiar:u.nombre,parentesco:u.parentesco,numero_telefonico:u.telefono,nombre_referencia_familiar_alt:d.nombre,parentesco_alt:d.parentesco,numero_telefonico_alt:d.telefono},R(m),C(!0)),n.next=18;break;case 17:window.localStorage.clear(),r("/login");case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(1),console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[1,20]])}))),[]);return A?T?(0,t.jsx)(x.default,{message:T}):(0,t.jsx)("div",{className:"".concat(_&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:Z,validationSchema:m.Ry({nombre_referencia_familiar:m.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),parentesco:m.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),numero_telefonico:m.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),nombre_referencia_familiar_alt:m.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),parentesco_alt:m.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),numero_telefonico_alt:m.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.")}),onSubmit:function(){var t=We(s().mark((function t(a){var o,i,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setForm((function(e){return Xe({},e,{formulario_individual:Xe({},e.formulario_individual,{informacion_referencias_comerciales_familiares:Xe({},a)})})})),o={seccion:"FDE_8",solicitud_id:e.solicitud_id||f},(null===j||void 0===j?void 0:j.id)?o.data={referencias:[{id:(null===j||void 0===j?void 0:j.id)||null,tipo:"personal",nombre:a.nombre_referencia_familiar,telefono:a.numero_telefonico,parentesco:a.parentesco},{id:(null===w||void 0===w?void 0:w.id)||null,tipo:"personal",nombre:a.nombre_referencia_familiar_alt,telefono:a.numero_telefonico_alt,parentesco:a.parentesco_alt}]}:o.data={referencias:[{tipo:"personal",nombre:a.nombre_referencia_familiar,telefono:a.numero_telefonico,parentesco:a.parentesco},{tipo:"personal",nombre:a.nombre_referencia_familiar_alt,telefono:a.numero_telefonico_alt,parentesco:a.parentesco_alt}]},t.prev=3,t.next=6,(0,v.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),o);case 6:if(i=t.sent,c=i.res,u=i.responseComplete,!i.error){t.next=14;break}return window.localStorage.clear(),r("/login"),t.abrupt("return");case 14:422===c.status&&F(c.message||"Ya tienes referencias"),u?(e.setIsCompletedReferenceForm(!0),e.setCurrent(e.current+1),n.push("/individual/".concat(d,"/").concat(e.solicitud_id||f,"?paso=FDE_9&rol=").concat(l))):(e.setIsCompletedReferenceForm(!1),U("Intenta m\xe1s tarde"),setTimeout((function(){U(null)}),5e3)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}(),children:function(r){return(0,t.jsxs)(c.l0,{children:[Le.map((function(e){return(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),P,B?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:B}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){n.push("/individual/".concat(d,"/").concat(e.solicitud_id||f,"?paso=FDE_7&rol=").concat(l))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})}):(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]})};function en(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function nn(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function rn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function tn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){rn(e,n,r[n])}))}return e}function an(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return en(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var on=function(e){var n=(0,y.useRouter)(),r=n.query,a=(r.paso,r.rol),o=an(n.query.usuario,2),i=o[0],l=o[1];return(0,t.jsx)("div",{className:"bg-gray-100 max-w-4xl mx-auto rounded-lg p-8 ",children:(0,t.jsx)(c.J9,{initialValues:{terminos_condiciones:!1},validationSchema:m.Ry({terminos_condiciones:m.O7().oneOf([!0],"Debes aceptar los terminos y condiciones")}),onSubmit:function(){var r,t=(r=s().mark((function r(t){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.setForm((function(e){return tn({},e,{formulario_individual:tn({},e.formulario_individual,{autorizacion_datos_personales:tn({},t)})})})),e.setShowModal(!1),n.push("/individual/".concat(i,"/").concat(l||"","?paso=FDE_1&rol=").concat(a));case 3:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(e){nn(o,t,a,i,l,"next",e)}function l(e){nn(o,t,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),children:function(e){e.values,e.setFieldValue;return(0,t.jsxs)(c.l0,{children:[(0,t.jsxs)("section",{className:"flex flex-col ",children:[(0,t.jsx)("h2",{className:"text-2xl text-center my-8",children:"Autorizaci\xf3n para el tratamiento de datos personales del Banco"}),(0,t.jsx)("p",{className:"text-justify",children:"Autorizo al Municipio de Medell\xedn, identificado con NIT N\xba 890.905.211-1, como Responsable para tratar mis datos personales conforme a su Pol\xedtica de Tratamiento de Datos Personales, disponible en www.medellin.gov.co, para que sean incluidos en sus bases de datos, para los siguientes fines: efectuar las gestiones pertinentes para el desarrollo de las funciones legales y cumplimiento del objeto misional del programa Banco de los Pobres adscrito a la Secretar\xeda de Desarrollo Econ\xf3mico, cuyo prop\xf3sito es crear de mecanismos financieros flexibles que permitan promover las actividades productivas, comerciales y de servicios de la ciudad, apoy\xe1ndose en entidades nacionales e internacionales que ejecutan actividades tendientes a desarrollar y operar l\xedneas de cr\xe9ditos encaminadas a financiar proyectos individuales y colectivos. En esa medida, declaro que la informaci\xf3n suministrada es correcta, veraz, verificable y actualizada. Igualmente autorizo al Municipio de Medell\xedn, para contactarme v\xeda WhatsApp, correo electr\xf3nico, mensajes de texto, llamadas telef\xf3nicas a mis n\xfameros fijo y celular, comunicaciones escritas u otros medios de comunicaci\xf3n; para compartir mis datos personales con terceros aliados o contratistas del Municipio de Medell\xedn, as\xed como con otras entidades del orden municipal, departamental y nacional, para garantizar la prestaci\xf3n de sus servicios o para la ejecuci\xf3n de planes, programas, proyectos o estrategias conjuntas. Asimismo, declaro que conozco que no es obligatorio responder preguntas relacionadas con datos sensibles o de menores de edad (en calidad de representante legal) y que, en caso de proporcionarlos, estoy autorizando expresamente su Tratamiento y que tengo derecho a conocer, consultar, actualizar, rectificar y suprimir mi informaci\xf3n, solicitar prueba de esta autorizaci\xf3n y revocarla (cuando ello sea posible y no se requieran los datos en virtud de las funciones legales del Municipio de Medell\xedn), derechos que se me ha informado puedo ejercer a trav\xe9s de los canales: portal web www.medellin.gov.co y presencial en el Centro de Servicio a la Ciudadan\xeda, MasCercas y Casas de Gobierno."})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)(c.gN,{type:"checkbox",name:"terminos_condiciones",className:"mr-4"}),"\xbfEstoy de acuerdo con los t\xe9rminos y condiciones?"]}),(0,t.jsx)(c.Bc,{name:"terminos_condiciones",component:"div",className:""}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{type:"submit",className:" mt-4 p-2 w-1/2 text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})})},ln=r(5012),sn=r(2280),cn="h-10 border border-gray-400 px-4",un=[{id:"pr-1",name:"rango_edad",fieldName:"\xbfTienes entre 18 y 75 a\xf1os de edad?",type:"select",className:"".concat(cn),options:[{id:"pr-1.2",name:!0,fieldName:"Si"},{id:"pr-1.3",name:"no",fieldName:"No"}]},{id:"pr-2",name:"estrato_valido",fieldName:"\xbfVives en los estratos 1, 2 y 3 de Medell\xedn o sus corregimientos?",type:"select",className:"".concat(cn),options:[{id:"pr-2.2",name:!0,fieldName:"Si"},{id:"pr-2.3",name:"no",fieldName:"No"}]},{id:"pr-3",name:"no_central_riesgo",fieldName:"Est\xe1 reportado en centrales de riesgo por m\xe1s de 2.5 SMMLV?",type:"select",className:"".concat(cn),options:[{id:"pr-3.2",name:"si",fieldName:"Si"},{id:"pr-3.3",name:!0,fieldName:"No"}]},{id:"pr-4",name:"no_deudas_vigentes",fieldName:"Tienes cr\xe9ditos vigentes o tarjetas de cr\xe9dito activas con entidades financieras?",type:"select",className:"".concat(cn),options:[{id:"pr-4.2",name:"si",fieldName:"Si"},{id:"pr-4.3",name:!0,fieldName:"No"}]},{id:"pr-5",name:"ubicacion_negocio",fieldName:"\xbfEl negocio que vas a crear o a fortalecer est\xe1 ubicado en Medell\xedn o en sus corregimientos, en cualquier estrato?.",type:"select",className:"".concat(cn),options:[{id:"p5-1.2",name:!0,fieldName:"Si"},{id:"p5-1.3",name:"no",fieldName:"No"}]}];function dn(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function mn(e,n,r,t,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,a)}function fn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function pn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){fn(e,n,r[n])}))}return e}function bn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return dn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vn=function(e){var n=(0,y.useRouter)(),r=n.query,a=(r.paso,r.rol),o=bn(n.query.usuario,2),i=o[0],l=o[1];return(0,t.jsx)("div",{className:"w-full md:w-11/12 mx-auto rounded-lg p-4",children:(0,t.jsx)(c.J9,{initialValues:{rango_edad:"",estrato_valido:"",no_central_riesgo:"",no_deudas_vigentes:"",ubicacion_negocio:""},validationSchema:m.Ry({rango_edad:m.Z_().required("requerido").oneOf(["true"],"Estos son los requisitos m\xednimos"),estrato_valido:m.Z_().required("requerido").oneOf(["true"],"Estos son los requisitos m\xednimos"),no_central_riesgo:m.Z_().required("requerido").oneOf(["true"],"Estos son los requisitos m\xednimos"),no_deudas_vigentes:m.Z_().required("requerido").oneOf(["true"],"Estos son los requisitos m\xednimos"),ubicacion_negocio:m.Z_().required("requerido").oneOf(["true"],"Estos son los requisitos m\xednimos")}),onSubmit:function(){var r,t=(r=s().mark((function r(t){var o,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c in o={},t)o[c]=Boolean(t[c]);e.setForm((function(e){return pn({},e,{formulario_individual:pn({},e.formulario_individual,{datos_prerequisitos:pn({},o)})})})),n.push("/individual/".concat(i,"/").concat(l||"","?paso=FDE_2&rol=").concat(a)),e.setShowPreRequisitos(!1);case 5:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(e){mn(o,t,a,i,l,"next",e)}function l(e){mn(o,t,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),children:function(e){e.values;return(0,t.jsxs)(c.l0,{children:[un.map((function(e){if("select"===e.type)return(0,t.jsx)(f.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id)})),(0,t.jsx)("div",{className:"flex md:block",children:(0,t.jsx)("button",{type:"submit",className:"mt-8 p-4 w-3/5 mx-auto lg:w-2/5 text-lg text-white font-semibold rounded-full bg-color_primary_2_ligth md:float-right",children:"Solicitar Cr\xe9dito"})})]})}})})},yn=r(840),hn=r(3865);function xn(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function _n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return xn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nn=!0;function gn(e){var n=e.primer_nombre,r=void 0===n?"":n,l=e.segundo_nombre,s=void 0===l?"":l,c=e.primer_apellido,u=void 0===c?"":c,d=e.segundo_apellido,m=void 0===d?"":d,f=e.num_identificacion,p=void 0===f?"":f,b=e.correo,v=void 0===b?"":b,h=(0,y.useRouter)(),x=h.query,_=x.paso,N=x.rol,g=x.usuario,j=_n(a.useState(!1),2)[1],w=_n(a.useState(!1),2)[1],S=_n(a.useState(!1),2)[1],O=_n(a.useState(!1),2)[1],q=_n(a.useState(!1),2)[1],C=_n(a.useState(!1),2)[1],E=_n(a.useState(!1),2)[1],I=_n(a.useState(!1),2)[1],D=_n(a.useState(!1),2)[1],P=_n(a.useState({formulario_individual:{}}),2),F=P[0],k=P[1],Z=_n(a.useState(!0),2),R=Z[0],M=Z[1],T=_n(a.useState(!0),2)[1],z=_n(a.useState(""),2),B=z[0],U=z[1],H=_n(a.useState(2),2),$=H[0],L=H[1];a.useEffect((function(){["ASESOR","ADMINISTRADOR","SUPERADMINISTRADOR"].includes(N)&&(M(!1),T(!1))}),[N]);return(0,t.jsx)(yn.i,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(hn.Z,{title:"Est\xe1s a un paso de cumplir tus sue\xf1os",image_url:"".concat("/bancopobres","/solicitud-banner.png")}),(0,t.jsx)("section",{className:"bg-color_gray_2 pb-24",children:(0,t.jsxs)("div",{className:"main-wrapper pt-14 px-4",children:[(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:"Banco de las oportunidades"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("h1",{className:"text-center mb-6",children:[(0,t.jsx)("span",{className:" text-3xl font-bold",children:"Solicitud de cr\xe9dito"})," "]}),(0,t.jsx)("div",{className:"w-screen md:w-10/12 mx-auto mb-8",children:["FDE_0","FDE_1"].includes(_)?null:(0,t.jsx)(ln.Z,{current:$,paso:_,solicitud_id:B,usuario:g,rol:N,form_type:"deudor"})}),"FDE_0"===_?(0,t.jsx)("div",{id:"modal-root",className:"absolute inset-y-0 inset-x-0 m-auto h-3/4 backdrop-blur-md"}):null,"FDE_0"===_?(0,t.jsx)(sn.Z,{Component:function(){return(0,t.jsx)(on,{form:F,setForm:k,setIsCompletedHabbeasData:D,setShowModal:M})},modalProps:{showModal:R,setShowModal:M}}):null,["ASESOR","ADMINISTRADOR","SUPERADMINISTRADOR"].includes(N)?(0,t.jsx)("div",{className:"w-full md:w-9/12 mx-auto mb-8",children:(0,t.jsx)(o.default,{href:"/backoffice",children:(0,t.jsx)("a",{className:"bg-color_primary_2_ligth text-white rounded-lg px-6 py-2 border hover:bg-color_primary_2 font-semibold",children:"Volver a backoffice"})})}):null,(0,t.jsxs)("div",{className:"md:w-9/12 mx-auto",children:["FDE_1"===_?(0,t.jsx)(vn,{setShowPreRequisitos:T,form:F,setForm:k}):null,(0,t.jsxs)(a.Fragment,{children:["FDE_2"===_?(0,t.jsx)(A,{setIsCompletedBasicInformation:w,setCurrent:L,current:$,form:F,setForm:k,setSolicitud_id:U,userInfo:{primer_nombre:r,segundo_nombre:s,primer_apellido:u,segundo_apellido:m,num_identificacion:p}}):null,"FDE_3"===_?(0,t.jsx)(oe,{setIsCompletedCreditDestination:j,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B}):null,"FDE_4"===_?(0,t.jsx)(ke,{setIsCompletedInfoMate:S,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B}):null,"FDE_5"===_?(0,t.jsx)(He,{setIsCompletedPopulationVariables:O,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B}):null,"FDE_6"===_?(0,t.jsx)(V,{setIsCompletedContactCitizen:q,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B,correo:v}):null,"FDE_7"===_?(0,t.jsx)(Se,{setIsCompletedInfoBusiness:C,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B}):null,"FDE_8"===_?(0,t.jsx)(Qe,{setIsCompletedReferenceForm:E,setCurrent:L,current:$,form:F,setForm:k,solicitud_id:B}):null,"FDE_9"===_?(0,t.jsx)(be,{setIsCompletedFinancialReportApplicant:I,setCurrent:L,current:$,solicitud_id:B,form:F,setForm:k}):null,"FDE_10"===_?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-2xl text-gray-700",children:'"Recibimos tu informaci\xf3n, la solicitud est\xe1 en proceso de estudio."'}),(0,t.jsx)("button",{type:"button",onClick:function(){h.push("/individual/".concat(g[0],"/").concat(B||g[1],"?paso=FDE_9&rol=").concat(N))},className:"mt-6 p-4 w-2/5 text-white rounded-full bg-red-500",children:"Anterior"}),"USUARIO"===N&&(0,t.jsx)("button",{onClick:function(){h.push("/")},type:"button",className:"mt-6 p-4 w-2/5 text-white rounded-full bg-color_primary_2_ligth",children:"Inicio"})]}):null]})]})]})})]})})}}},function(e){e.O(0,[551,465,774,888,179],(function(){return n=244,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{9781:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backoffice/[cedula]",function(){return r(932)}])},932:function(e,a,r){"use strict";r.r(a),r.d(a,{__N_SSP:function(){return S},default:function(){return P}});var n=r(4051),o=r.n(n),t=r(5893),s=r(7294),i=r(6795),c=r(1163);function l(e){switch(e){case"FDE_2":return{paso:"paso 1 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:2};case"FDE_3":return{paso:"paso 2 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:3};case"FDE_4":return{paso:"paso 3 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:4};case"FDE_5":return{paso:"paso 4 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:5};case"FDE_6":return{paso:"paso 5 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:6};case"FDE_7":return{paso:"paso 6 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:7};case"FDE_8":return{paso:"paso 7 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:8};case"FDE_9":return{paso:"paso 8 de 8",showHabeasData:!1,showPrerrequisitosData:!1,numero:9};case"FCO_1":return{paso:"paso 1 de 8",showHabeasData:!0,showPrerrequisitosData:!0};case"FCO_2":return{paso:"paso 2 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_3":return{paso:"paso 3 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_4":return{paso:"paso 4 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_5":return{paso:"paso 5 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_6":return{paso:"paso 6 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_7":case"FCO_8":return{paso:"paso 7 de 8",showHabeasData:!1,showPrerrequisitosData:!1};case"FCO_9":return{paso:"paso 8 de 8",showHabeasData:!1,showPrerrequisitosData:!1};default:return{paso:"paso 1 de 8",showHabeasData:!0,showPrerrequisitosData:!0,numero:1}}}var d=r(1664),u=function(e){var a,r,n,o,s,i,c;return(0,t.jsxs)("div",{className:"my-4 card-custom",children:[(0,t.jsxs)("h2",{className:"header-card-custom",children:[" ",e.title," "]}),(0,t.jsxs)("div",{className:"body-card-custom",children:[(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsx)("label",{className:"font-semibold",children:"Tipo:"}),e.tipo]}),(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsx)("label",{className:"font-semibold",children:"Seccion del formulario: "}),null===(a=l(e.usuario.seccion))||void 0===a?void 0:a.paso]}),(0,t.jsx)("div",{className:"text-center my-4 sm:text-left",children:["FDE_9","FCO_9"].includes(null===(r=e.usuario)||void 0===r?void 0:r.seccion)?(0,t.jsxs)("div",{children:["Formulario Completo",(0,t.jsx)("small",{className:"ml-4 hover:text-color_primary_2_ligth",children:(0,t.jsx)(d.default,{href:"/".concat(e.form,"/").concat(null===(n=e.usuario)||void 0===n?void 0:n.persona.num_identificacion,"/").concat(e.id,"?paso=").concat(null===(o=e.usuario)||void 0===o?void 0:o.seccion,"&rol=").concat(e.rol),children:(0,t.jsx)("a",{children:"Editar"})})})]}):(0,t.jsxs)("div",{className:"font-section",children:["Completar formulario",(0,t.jsx)(d.default,{href:"/".concat(e.form,"/").concat(null===(s=e.usuario)||void 0===s||null===(i=s.persona)||void 0===i?void 0:i.num_identificacion,"/").concat(e.id,"?paso=").concat(null===(c=e.usuario)||void 0===c?void 0:c.seccion,"&rol=").concat(e.rol),children:(0,t.jsxs)("a",{className:"hover:text-color_primary_2_ligth hover:font-bold",children:[(0,t.jsx)("small",{children:(0,t.jsx)("img",{src:"".concat("/bancopobres","/edit_icon.svg"),alt:"edit_icon",className:"h-6 w-6 m-auto sm:m-0"})}),"Editar"]})})]})})]})]})},m=function(e){var a,r,n,o,s,i,c,l,d;return(0,t.jsxs)("div",{className:"my-4 bg-white card-custom",children:[(0,t.jsxs)("h2",{className:"header-card-custom",children:[" ",e.title," "]}),(0,t.jsxs)("div",{className:"body-card-custom",children:[(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsx)("label",{className:"font-semibold",children:"Nombres:  "}),"".concat(null===(a=e.usuario)||void 0===a||null===(r=a.persona)||void 0===r?void 0:r.primer_nombre," ").concat((null===(n=e.usuario)||void 0===n||null===(o=n.persona)||void 0===o?void 0:o.segundo_nombre)||""," ").concat(null===(s=e.usuario)||void 0===s||null===(i=s.persona)||void 0===i?void 0:i.primer_apellido," ").concat((null===(c=e.usuario)||void 0===c||null===(l=c.persona)||void 0===l?void 0:l.segundo_apellido)||"")]}),(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsx)("label",{className:"font-semibold",children:"N\xfamero de identificacion: "}),null===(d=e.usuario)||void 0===d?void 0:d.persona.num_identificacion]})]})]})},f=function(e){var a,r,n,o,s,i,c,l,u,m;return(null===(a=e.usuario)||void 0===a||null===(r=a.persona)||void 0===r?void 0:r.num_identificacion)?(0,t.jsxs)("div",{className:"my-4 bg-white border border-gray-200 rounded-lg p-4 card-custom",children:[(0,t.jsxs)("h2",{className:"header-card-custom",children:[" ",e.title," "]}),(0,t.jsxs)("div",{className:"body-card-custom",children:[(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsxs)("label",{className:"font-semibold",children:[e.nombre," :"]})," ","".concat((null===(n=e.usuario)||void 0===n||null===(o=n.persona)||void 0===o?void 0:o.primer_nombre)||""," ").concat((null===(s=e.usuario)||void 0===s||null===(i=s.persona)||void 0===i?void 0:i.primer_apellido)||"No tiene codeudor actualmente"," ")]}),(0,t.jsxs)("div",{className:"mt-4 font-section",children:[(0,t.jsx)("label",{className:"font-semibold",children:"N\xfamero de identificaci\xf3n: "})," ".concat((null===(c=e.usuario)||void 0===c||null===(l=c.persona)||void 0===l?void 0:l.num_identificacion)||"no aplica")]}),(0,t.jsx)("div",{className:"text-center sm:text-left my-4",children:(0,t.jsx)("div",{className:"font-section",children:(0,t.jsx)(d.default,{href:"/backoffice/".concat(null===(u=e.usuario)||void 0===u||null===(m=u.persona)||void 0===m?void 0:m.num_identificacion,"?sid=").concat(e.id),children:(0,t.jsxs)("a",{className:"hover:text-color_primary_2_ligth hover:font-bold",children:[(0,t.jsx)("small",{children:(0,t.jsx)("img",{src:"".concat("/bancopobres","/edit_icon.svg"),alt:"edit_icon",className:"h-6 w-6 m-auto sm:m-0"})}),"Ir al dashboard del ",e.nombre]})})})})]})]}):(0,t.jsxs)("div",{className:" card-custom border border-gray-200 rounded-lg p-4 max-w-1/2 w-content",children:[(0,t.jsxs)("div",{className:"header-card-custom",children:[" ",e.title," "]})," ",(0,t.jsx)("div",{className:"body-card-custom",children:(0,t.jsx)("div",{className:"mensaje-info",children:"No tiene codeudor actualmente"})})," "]})},p=r(9730),v=r(7420),h=[{name:"C\xe9dula",value:"CEDULA",id:1},{name:"Servicios p\xfablicos",value:"SERVICIOS_PUBLICOS",id:2},{name:"Cifin",value:"CIFIN",id:3},{name:"Modelo de negocio",value:"MODELO_NEGOCIO",id:4},{name:"Certificado de tradicion",value:"CERTIFICADO_TRADICION",id:5},{name:"Visita agropecuaria",value:"VISITA_AGROECUARIA",id:6}],x=function(e){var a=e.name,r=e.value,n=e.id,o=e.getDefaultChecked,s=e.handleChange,i=e.posicionRol;return(0,t.jsxs)("div",{className:"d-f",children:[(0,t.jsx)("input",{type:"checkbox",name:r,onChange:function(e){return s(e,i)},defaultChecked:o(r,i)}),(0,t.jsx)("label",{htmlFor:a,className:"ml-2",children:a})]},n)},b=[{name:"C\xe9dula",value:"CEDULA",id:1},{name:"Servicios publicos",value:"SERVICIOS_PUBLICOS",id:2},{name:"Cifin",value:"CIFIN",id:3},{name:"Visita agropecuaria",value:"VISITA_AGROECUARIA",id:4},{name:"Modelo de negocio",value:"MODELO_NEGOCIO",id:5},{name:"Carta laboral",value:"CARTA_LABORAL",id:6},{name:"Colillas pago de salario",value:"COLLILLAS_PAGO_SALARIO",id:7},{name:"Propiedad raiz",value:"PROPIEDAD_RAIZ",id:8},{name:"Impuesto predial",value:"IMPUESTO_PREDIAL",id:9},{name:"Certificado tradici\xf3n",value:"CERTIFICADO_TRADICION",id:10},{name:"Hipotecas",value:"HIPOTECAS",id:11},{name:"Patrimonio familia",value:"PATRIMONIO_FAMILIA",id:12},{name:"Hipotecas",value:"HIPOTECAS",id:13},{name:"Embargos",value:"EMBARGOS",id:14},{name:"Certificado de afiliacion transporte",value:"CERTIFICADO_AFILIACION_TRANSPORTE",id:15},{name:"Tarjeta propiedad vehiculo",value:"TARJETA_PROPIEDAD_VEHICULO",id:16},{name:"Resoluci\xf3n de pensi\xf3n",value:"RESOLUCION_PENSION",id:17}],j=r(6960),g=r(6135),N=r(4986),w=r(1319);function y(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,n=new Array(a);r<a;r++)n[r]=e[r];return n}function _(e,a,r,n,o,t,s){try{var i=e[t](s),c=i.value}catch(l){return void r(l)}i.done?a(c):Promise.resolve(c).then(n,o)}function O(e){return function(){var a=this,r=arguments;return new Promise((function(n,o){var t=e.apply(a,r);function s(e){_(t,n,o,s,i,"next",e)}function i(e){_(t,n,o,s,i,"throw",e)}s(void 0)}))}}function C(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function D(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(a){C(e,a,r[a])}))}return e}function E(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,t=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(t.push(n.value),!a||t.length!==a);s=!0);}catch(c){i=!0,o=c}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return t}}(e,a)||A(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,a){if(e){if("string"===typeof e)return y(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,a):void 0}}var S=!0,P=function(e){var a=e.sid,r=e.cedula,n=(0,i.Eu)().rol,l=E(s.useState(!0),2),d=l[0],v=l[1],h=(0,c.useRouter)().push,x=E(s.useState(!0),2),b=x[0],N=x[1],y=E(s.useState(null),2),_=y[0],C=y[1],D=E(s.useState([]),2),I=D[0],A=D[1];return s.useEffect((function(){v(!0),v(!1)}),[n]),s.useEffect((function(){function e(){return(e=O(o().mark((function e(){var n,t,s,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/usuario/").concat(r),e.next=3,(0,j.Y)(n);case 3:if(t=e.sent,s=t.response,t.error&&(window.localStorage.clear(),h("/login")),404===s.status&&(N(!1),C(null)),401===s.status&&(N(!1),C("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200!==s.status){e.next=14;break}return e.next=12,s.json();case 12:(i=e.sent).length?(c=i.filter((function(e){return e.id===a})),A(c),N(!1),C(null)):A([]);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,h,a]),d?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):(0,t.jsx)(p.Z,{rolUser:n,children:b?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):_?(0,t.jsx)(g.default,{message:"No est\xe1s autorizado para hacer esta acci\xf3n"}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:I.map((function(e,a){var o,s,i=e.deudor,c=e.tipo,l=e.codeudor,d=e.id;return(null===i||void 0===i||null===(o=i.persona)||void 0===o?void 0:o.num_identificacion)===Number(r)?(0,t.jsxs)("div",{children:[(0,t.jsx)(w.Z,{children:"Detalle solicitud"}),(0,t.jsx)(m,{title:"Informaci\xf3n Usuario - Deudor ",usuario:i}),(0,t.jsx)(u,{title:"Informaci\xf3n del formulario - Deudor",usuario:i,tipo:c,id:d,rol:n,form:"individual"}),(0,t.jsx)(f,{title:"Informaci\xf3n del Codeudor",nombre:"Codeudor",usuario:l,id:d,rol:n}),(0,t.jsx)(T,{data:I,cedula:r}),(0,t.jsx)(R,{data:I})]},a):(null===l||void 0===l||null===(s=l.persona)||void 0===s?void 0:s.num_identificacion)===Number(r)?(0,t.jsxs)("div",{children:[(0,t.jsx)(m,{title:"Informaci\xf3n Usuario - Codeudor",usuario:l}),(0,t.jsx)(u,{title:"Informaci\xf3n del formulario - Codeudor",usuario:l,tipo:c,id:d,rol:n,form:"codeudor"}),(0,t.jsx)(f,{title:"Informaci\xf3n del Deudor",nombre:"Deudor",usuario:i,id:d,rol:n}),(0,t.jsx)(T,{data:I,cedula:r}),(0,t.jsx)(R,{data:I})]},a):void 0}))})})})},R=function(e){var a,r=function(e){l(D({},c,C({},e.target.name,e.target.value)))},n=e.data[0].id,i=E(s.useState({estado:"COLOCADO",observaciones:"Falta informacion"}),2),c=i[0],l=i[1],d=E(s.useState(!0),2),u=d[0],m=d[1],f=E(s.useState(!1),2),p=f[0],v=f[1],h=E(s.useState(""),2),x=h[0],b=h[1];function g(){return(g=O(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!p){e.next=3;break}return e.abrupt("return");case 3:if(v(!0),e.prev=4,localStorage.getItem("access_token")){e.next=8;break}throw new Error("Acci\xf3n inv\xe1lida, intenta m\xe1s tarde .... ");case 8:return e.next=10,(0,N.rK)("credito/solicitud",{method:"POST",body:JSON.stringify({seccion:"EST",solicitud_id:n,data:c}),type:N.lO.credit});case 10:201===e.sent.status?b("Estado actualizado correctamente"):b("Error al actualizar el estado"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),b("Error al actualizar el estado, comuniquese con la administraci\xf3n");case 17:v(!1),setTimeout((function(){b("")}),3e3);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}return s.useEffect((function(){function e(){return(e=O(o().mark((function e(){var a,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Y)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(n,"?seccion=EST"));case 2:if(a=e.sent,200!==(r=a.response).status){e.next=10;break}return e.next=7,r.json();case 7:t=e.sent,l({estado:t.estado,observaciones:t.observaciones}),m(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,t.jsxs)("div",{className:"my-4 card-custom",children:[(0,t.jsx)("h2",{className:"header-card-custom",children:"Estado de la solicitud"}),x?(0,t.jsx)("div",{className:x.includes("Error")?F:k,role:"alert",children:x}):null,u?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):(0,t.jsx)("div",{className:"body-card-custom",children:(0,t.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block font-medium",children:"Observaciones:"}),(0,t.jsx)("textarea",{name:"observaciones",id:"observaciones",defaultValue:null!==(a=c.observaciones)&&void 0!==a?a:"",className:"block border border-gray-400 px-4 w-full form-textarea pt-2 rounded-lg",rows:"5",onInput:r,style:{resize:"none"},placeholder:"Ingrese las observaciones"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block font-medium",children:"Estado: "}),(0,t.jsxs)("select",{value:c.estado,onChange:r,name:"estado",className:"h-10 border border-gray-400 px-4 w-full rounded-lg",children:[(0,t.jsx)("option",{value:"COMPLETADO",children:"Completado"}),(0,t.jsx)("option",{value:"INCOMPLETO",children:"Incompleto"}),(0,t.jsx)("option",{value:"FALTA_DOCUMENTOS",children:"Faltan documentos"}),(0,t.jsx)("option",{value:"POR_VALIDAR",children:"Por validar"}),(0,t.jsx)("option",{value:"PREPARADO_ENVIO",children:"Listo para enviar al operador"}),(0,t.jsx)("option",{value:"APROBADO",children:"Aprobado"}),(0,t.jsx)("option",{value:"RECHAZADO",children:"Rechazado"}),(0,t.jsx)("option",{value:"COLOCADO",children:"Colocado"})]})]}),(0,t.jsx)("div",{className:"card-footer",children:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{className:"btn-primario",children:p?"Enviando...":"Guardar cambios"})})})]})})]})},k="mensaje-exito mb-4 px-4 py-3 rounded relative",F="mensaje-error mb-4 px-4 py-3 rounded relative",T=function(e){var a=e.data,r=e.cedula,n=function(e,a){var r;if("deudor"===a){var n=l.deudor;r=n.findIndex((function(a){return a.tipo===e.target.name}))}if("codeudor"===a){var o=l.codeudor;r=o.findIndex((function(a){return a.tipo===e.target.name}))}d(-1!=r?function(n){return n[a][r]=D({},n[a][r],{tipo:e.target.name,validado:e.target.checked,referencia:null}),n}:function(r){return D({},r,C({},a,I(r[a]).concat([{tipo:e.target.name,validado:e.target.checked}])))})},i=a[0].id,c=E(s.useState([]),2),l=c[0],d=c[1],u=E(s.useState(!0),2),m=u[0],f=u[1],p=E(s.useState(!1),2),g=p[0],w=p[1],y=E(s.useState(""),2),_=y[0],A=y[1],S=E(s.useState(!1),2),P=S[0],R=S[1],T=E(s.useState(""),2),L=T[0],H=T[1],q=E(s.useState([]),2),U=q[0],M=q[1],V=E(s.useState([]),2)[1],z=E(s.useState([]),2)[1];function G(){return(G=O(o().mark((function e(a){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!g){e.next=3;break}return e.abrupt("return");case 3:if(w(!0),e.prev=4,(r=window.localStorage.getItem("access_token"))&&""!==r&&"null"!==r){e.next=8;break}throw new Error("Token is missing");case 8:return e.next=10,(0,N.rK)("credito/solicitud",{method:"POST",body:JSON.stringify({seccion:"DOC",solicitud_id:i,data:D({},l)}),type:N.lO.credit,headers:{"Content-Type":"application/json"}});case 10:201===e.sent.status?A("Documentos enviados correctamente"):A("Error al enviar documentos, intentalo mas tarde"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),A("Error al enviar documentos");case 17:w(!1),setTimeout((function(){A("")}),3e3);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}s.useEffect((function(){function e(){return(e=O(o().mark((function e(){var a,r,n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Y)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(i,"?seccion=DOC"));case 2:if(a=e.sent,200!==(r=a.response).status){e.next=11;break}return e.next=7,r.json();case 7:n=e.sent,d(n),f(!1),Object.keys(n).length?(t=n.deudor,s=n.codeudor,t.length>0&&t.filter((function(e){var a=e.referencia;return null!==a&&void 0!==a})).map(function(){var e=O(o().mark((function e(a){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.referencia,n=a.tipo,e.next=3,Z(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),s.length>0&&s.filter((function(e){var a=e.referencia;return null!==a&&void 0!==a})).map(function(){var e=O(o().mark((function e(a){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.referencia,n=a.tipo,e.next=3,Z(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),V(t),z(s)):(V([]),z([]));case 11:404===r.status&&(d([]),f(!1));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(e,a){var r;"deudor"===a&&(r=l.deudor.find((function(a){return a.tipo===e})));"codeudor"===a&&(r=l.codeudor.find((function(a){return a.tipo===e})));return!!r&&r.validado};function Z(e,a){return J.apply(this,arguments)}function J(){return(J=O(o().mark((function e(a,r){var n,t,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.rK)("files/".concat(a),{type:N.lO.files});case 3:return n=e.sent,e.next=6,n.blob();case 6:t=e.sent,s=URL.createObjectURL(t),i=n.url.split(".").pop(),M((function(e){return I(e).concat([{imgURL:s,tipo:r,extention:i}])})),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return(0,t.jsxs)("div",{className:"card-custom my-4",children:[(0,t.jsx)("h2",{className:"header-card-custom",children:"Verificar documentos"}),(0,t.jsxs)("div",{className:"body-card-custom",children:[(0,t.jsx)("div",{className:"contenedor-img-documentos my-4",children:U.length>0?(0,t.jsx)("div",{className:"body-card-custom grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-center gap-4",children:U.map((function(e,a){return(0,t.jsxs)("div",{className:"grid img-miniatura",onClick:function(){return a=e,R(!0),void H(a);var a},children:[(0,t.jsx)("img",{src:e.imgURL,onError:function(a){a.target.onerror=null,"pdf"==e.extention?a.target.src="/pdf-file.svg":"png"==e.extention||"jpeg"==e.extention||"jpg"==e.extention?a.target.src="/png-file.svg":"xls"==e.extention||"xlsx"==e.extention?a.target.src="/xls-file.svg":a.target.src="/doc-file.svg"},alt:"documentos"}),(0,t.jsx)("p",{className:"text-xs p-4",children:e.tipo})]},a)}))}):(0,t.jsx)("div",{className:"mensaje-error",children:"No se encontraron im\xe1genes"})}),_?(0,t.jsx)("div",{className:_.includes("Error")?F:k,role:"alert",children:_}):null,m?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsxs)("form",{onSubmit:function(e){return G.apply(this,arguments)},className:"font-section",children:[a.map((function(e,a){var o,i,c=e.deudor,l=e.codeudor;return(null===c||void 0===c||null===(o=c.persona)||void 0===o?void 0:o.num_identificacion)===Number(r)?(0,t.jsxs)(s.Fragment,{children:[h.map((function(e){var a=e.name,r=e.value,o=e.id;return(0,t.jsx)(s.Fragment,{children:(0,t.jsx)(x,{name:a,value:r,id:o,getDefaultChecked:B,handleChange:n,posicionRol:"deudor"})},o)})),(0,t.jsx)(x,{name:"Firma",value:"FIRMA",id:"firma-deudior",getDefaultChecked:B,handleChange:n,posicionRol:"deudor"})]},a):(null===l||void 0===l||null===(i=l.persona)||void 0===i?void 0:i.num_identificacion)===Number(r)?(0,t.jsxs)(s.Fragment,{children:[b.map((function(e){var a=e.name,r=e.value,o=e.id;return(0,t.jsx)(s.Fragment,{children:(0,t.jsx)(x,{name:a,value:r,id:o,getDefaultChecked:B,handleChange:n,posicionRol:"codeudor"})},o)})),(0,t.jsx)(x,{name:"Firma",value:"FIRMA",id:"firma-codeudior",getDefaultChecked:B,handleChange:n,posicionRol:"codeudor"})]},a):void 0})),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{className:"btn-primario",children:g?"Enviando...":"Guardar cambios"})})]})]}),P?(0,t.jsx)(v.Z,{nodo:"render-image-full",className:"h-full w-full md:w-3/5",children:(0,t.jsxs)("div",{className:"modal-card-custom",onClick:function(){return R(!1)},children:[(0,t.jsxs)("div",{className:"modal-header-card-custom flex justify-between",children:[(0,t.jsx)("span",{children:"Filtros de busqueda"})," ",(0,t.jsx)("span",{children:(0,t.jsx)("img",{src:"https://img.icons8.com/color/48/000000/delete-sign--v1.png",className:"h-4 flex justify-end hover:cursor-pointer"})})]}),(0,t.jsx)("div",{className:"modal-body-card-custom",children:(0,t.jsx)("div",{className:"w-full object-contain grid grid-cols-1 iframe-modal",children:(0,t.jsx)("iframe",{src:L.imgURL,className:"object-contain h-full w-full"})})}),(0,t.jsx)("div",{className:"modal-footer-card-custom",children:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{className:"btn-texto-gris",children:"Cerrar"})})})]})}):null,(0,t.jsx)("div",{id:"render-image-full",className:P&&"fixed inset-0 bg-modal-info  flex justify-center z-50"})]})}}},function(e){e.O(0,[774,888,179],(function(){return a=9781,e(e.s=a);var a}));var a=e.O();_N_E=a}]);
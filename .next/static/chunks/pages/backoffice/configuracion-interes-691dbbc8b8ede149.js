(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{3684:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backoffice/configuracion-interes",function(){return n(8499)}])},5862:function(e,r,n){"use strict";n.d(r,{c:function(){return s}});var t=n(5893),a=n(7294),i=n(1163),o=n(6795),s=function(e){var r=e.children,n=e.preventRedirect,s=(0,i.useRouter)(),c=s.push,l=s.route,u=(0,o.Eu)(),d=u.isAuth,m=u.status,f=u.rol;return a.useEffect((function(){d||n||m!==o.Q_.resolved||c("/login")}),[d,n,c,m]),a.useEffect((function(){l.includes("backoffice/roles")&&!["SUPERADMINISTRADOR"].includes(f)&&c("/backoffice")}),[f,l,d]),a.useEffect((function(){l.includes("backoffice/configuracion-interes")&&!["SUPERADMINISTRADOR"].includes(f)&&c("/backoffice")}),[f,l,d]),(0,t.jsx)(t.Fragment,{children:r})}},8499:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return F}});var t=n(4051),a=n.n(t),i=n(5893),o=n(7294),s=n(5862),c=n(2580),l=n(4231),u=n(4986),d=n(4108),m=n(7420);function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function x(e,r,n,t,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?r(c):Promise.resolve(c).then(t,a)}function p(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function o(e){x(i,t,a,o,s,"next",e)}function s(e){x(i,t,a,o,s,"throw",e)}o(void 0)}))}}function h(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return f(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e){var r=b(o.useState({interes_mora:"",interes_corriente:"",salario_minimo:"",anno_vigencia:""}),2),n=r[0],t=r[1],s=b(o.useState(n),2),f=s[0],x=s[1],v=b(o.useState(null),2),j=v[0],y=v[1],g=b(o.useState(null),2),N=g[0],_=g[1],w=b(o.useState(!0),2),S=w[0],O=w[1],k=b(o.useState(!1),2),C=k[0],E=k[1],P=b(o.useState(!1),2),R=P[0],T=P[1],A=b(o.useState(""),2),D=A[0],I=A[1],q=b(o.useState(!1),2),M=q[0],F=q[1];function z(e){return B.apply(this,arguments)}function B(){return(B=p(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.rK)(r,{type:u.lO.config});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.useEffect((function(){function r(){return(r=p(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/autenticacionms/","auth/obtener-token-interno"),e.next=4,z(r);case 4:n=e.sent.access_token,localStorage.setItem("token_interno",n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function n(){return(n=p(a().mark((function r(){var n,i,o,s,c,l;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return T(!0),r.prev=1,r.next=4,(0,u.n0)("config/credito/tasas",{type:u.lO.config});case 4:return n=r.sent,r.next=7,n.json();case 7:return i=r.sent,o=i.corriente,s=i.mora,r.next=12,(0,u.n0)("config/salario-minimo",{type:u.lO.config});case 12:return c=r.sent,r.next=15,c.json();case 15:l=r.sent,_({mora:s,corriente:o,salario:l}),t({interes_mora:s.valor_tasa,interes_corriente:o.valor_tasa,salario_minimo:l.salario,anno_vigencia:l.anno_vigencia}),e.setSalarioMinimo(l.salario),x({interes_mora:s.valor_tasa,interes_corriente:o.valor_tasa,salario_minimo:l.salario,anno_vigencia:l.anno_vigencia}),T(!1),r.next=27;break;case 23:r.prev=23,r.t0=r.catch(1),T(!1),I("Hubo un error, estos valores no se encuentran disponibles, intentalo m\xe1s tarde");case 27:case"end":return r.stop()}}),r,null,[[1,23]])})))).apply(this,arguments)}localStorage.getItem("token_interno")||function(){r.apply(this,arguments)}(),function(){n.apply(this,arguments)}()}),[]);var H=function(){var e=p(a().mark((function e(){var r,t,i,o,s,c,l,d,m,f,x,h,b,v,y,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=function(e,r){return g.apply(this,arguments)},g=function(){return(g=p(a().mark((function e(r,n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.rK)(r,{method:"PUT",body:JSON.stringify(n),type:u.lO.config});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.t0=e.sent,e.t1=t,e.abrupt("return",{dataResponse:e.t0,res:e.t1});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=N.mora,t=N.corriente,i=N.salario,e.prev=3,n.interes_corriente===j.interes_corriente){e.next=13;break}return o="config/credito/tasa/".concat(t.tasa_id),s=j.interes_corriente,e.next=9,y(o,{nombre_tasa:"Interes Corriente",valor_tasa:Number(s)});case 9:c=e.sent,400===(l=c.res).status&&(I("Hubo un error al actualizar inter\xe9s corriente, intenta m\xe1s tarde"),setTimeout((function(){I("")}),3e3),E(!1)),200===l.status&&(I(" Proceso exitoso, se ha actualizado"),setTimeout((function(){I("")}),3e3),E(!1));case 13:if(n.interes_mora===j.interes_mora){e.next=21;break}return d=j.interes_mora,e.next=17,y("config/credito/tasa/".concat(r.tasa_id),{nombre_tasa:"Interes Mora",valor_tasa:Number(d)});case 17:m=e.sent,400===(f=m.res).status&&(I("Hubo un error al actualizar inter\xe9s corriente, intenta m\xe1s tarde"),setTimeout((function(){I("")}),3e3),E(!1)),200===f.status&&(I(" Proceso exitoso, se ha actualizado"),setTimeout((function(){I("")}),3e3),E(!1));case 21:if(n.salario_minimo===j.salario_minimo){e.next=29;break}return x=j.salario_minimo,h=j.anno_vigencia,e.next=25,y("config/salario-minimo/".concat(i.salario_id),{anno_vigencia:Number(h),salario:Number(x)});case 25:b=e.sent,400===(v=b.res).status&&(I("Hubo un error al actualizar inter\xe9s corriente, intenta m\xe1s tarde"),setTimeout((function(){I("")}),3e3),E(!1)),200===v.status&&(I(" Proceso exitoso, se ha actualizado"),setTimeout((function(){I("")}),3e3),E(!1));case 29:E(!1),F(!1),O(!0),e.next=38;break;case 36:e.prev=36,e.t0=e.catch(3);case 38:case"end":return e.stop()}}),e,null,[[3,36]])})));return function(){return e.apply(this,arguments)}}();return R?(0,i.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,i.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,i.jsx)("div",{className:"spinner_cont items-center",children:(0,i.jsx)("span",{className:"material spinner"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap",children:[(0,i.jsx)(c.J9,{initialValues:n,validationSchema:l.Ry({interes_mora:l.Rx().typeError("Deber ser un numero").required("Requerido").min(0),interes_corriente:l.Rx().typeError("Deber ser un numero").required("Requerido").min(0),salario_minimo:l.Rx().typeError("Deber ser un numero").required("Requerido").min(0),anno_vigencia:l.Rx().typeError("Deber ser un numero").required("Requerido").min(0)}),onSubmit:function(e){y(e),E(!0)},children:function(){return(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)(c.l0,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"body-card-custom grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Inter\xe9s mora:"}),(0,i.jsx)(c.gN,{type:"number",onWheel:d.F,name:"interes_mora",disabled:S,className:""}),(0,i.jsx)(c.Bc,{name:"interes_mora"})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Inter\xe9s corriente:"}),(0,i.jsx)(c.gN,{type:"number",onWheel:d.F,name:"interes_corriente",disabled:S,className:""}),(0,i.jsx)(c.Bc,{name:"interes_mora"})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Salario:"}),(0,i.jsx)(c.gN,{type:"number",onWheel:d.F,name:"salario_minimo",disabled:S,className:""}),(0,i.jsx)(c.Bc,{name:"interes_mora"})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"A\xf1o vigencia:"}),(0,i.jsx)(c.gN,{name:"anno_vigencia",type:"number",onWheel:d.F,disabled:S,className:""}),(0,i.jsx)(c.Bc,{name:"anno_vigencia"})]})]})}),(0,i.jsx)("div",{className:"flex",children:M?(0,i.jsx)("div",{className:"flex justify-end footer-card-custom w-full",children:(0,i.jsx)("button",{type:"submit",className:"btn-primario",children:"Guardar"})}):null})]})})}}),""!==D?(0,i.jsxs)("div",{className:D.includes("error")?"mb-4 mensaje-error px-4 py-3 relative":"mb-4 mensaje-exito px-4 py-3 relative",children:[" ",D," "]}):null,(0,i.jsx)("div",{id:"editar-interes",className:C&&"fixed inset-0 bg-modal-info  flex justify-center z-50"}),C?(0,i.jsx)(m.Z,{nodo:"editar-interes",children:(0,i.jsxs)("div",{className:"card-modal-sm flex flex-col",children:[(0,i.jsxs)("div",{className:"body-card-modal-sm",children:[(0,i.jsx)("h1",{className:"titulo-modal-info",children:"Confirmaci\xf3n de acci\xf3n"}),(0,i.jsx)("p",{children:"\xbfEst\xe1 seguro desea cambiar la configuraci\xf3n?"})]}),(0,i.jsxs)("div",{className:"flex justify-center footer-card-modal-sm",children:[(0,i.jsx)("button",{type:"submit",className:"btn-primario order-2 ml-4",onClick:H,children:"Si"}),(0,i.jsx)("button",{type:"submit",className:"order-1 btn-texto-gris",onClick:function(){E(!1),T(!0),F(!1),O(!0),t(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){h(e,r,n[r])}))}return e}({},f)),setTimeout((function(){T(!1)}),500)},children:"No"})]})]})}):null]}),!M&&(0,i.jsx)("div",{className:"footer-card-custom flex justify-end items-end",children:(0,i.jsx)("button",{type:"button",onClick:function(){F(!0),O(!1)},className:"btn-secundario",children:"Editar"})})]})};function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function y(e,r,n,t,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?r(c):Promise.resolve(c).then(t,a)}function g(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function o(e){y(i,t,a,o,s,"next",e)}function s(e){y(i,t,a,o,s,"throw",e)}o(void 0)}))}}function N(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){N(e,r,n[r])}))}return e}function w(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O="h-10 border ronded-lg border-gray-400 px-4 w-full",k="fixed inset-0 bg-modal-info  flex justify-center z-50",C=function(e){var r=S(o.useState(!1),2),n=r[0],t=r[1],s=S(o.useState(!1),2),f=s[0],x=s[1],p=S(o.useState(!1),2),h=p[0],b=p[1],v=S(o.useState(""),2),j=v[0],y=v[1],N=S(o.useState(void 0),2),C=N[0],E=N[1],P=S(o.useState(void 0),2),R=P[0],T=P[1];o.useEffect((function(){b(!0),setTimeout((function(){b(!1)}),500)}),[e.lineaCreditoSelected]);var A=function(){var r=g(a().mark((function r(n){var i,o,s,c;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),i=C.portafolio_id,o=w(C,["portafolio_id"]),t(!1),y("Procesando..."),r.prev=4,r.next=7,(0,u.rK)("config/credito/portafolio/".concat(i),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_({},o,{num_salarios:null})),type:u.lO.config});case 7:return s=r.sent,r.next=10,s.json();case 10:c=r.sent,404===s.statusCode&&(y("Hubo un error. Intente de nuevo"),setTimeout((function(){y("")}),5e3)),200===s.status&&(y(c.message),setTimeout((function(){y(""),e.setLineaCreditoSelected("")}),5e3)),r.next=20;break;case 15:r.prev=15,r.t0=r.catch(4),t(!1),y("Hubo un error. Intentelo m\xe1s tarde"),setTimeout((function(){y("")}),5e3);case 20:case"end":return r.stop()}}),r,null,[[4,15]])})));return function(e){return r.apply(this,arguments)}}(),D=function(r){r.preventDefault(),e.setLineaCreditoSelected("")},I=function(){var r=g(a().mark((function r(){var n,t,i,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=R.portafolio_id,t=w(R,["portafolio_id"]),x(!1),r.prev=2,r.next=5,(0,u.rK)("config/credito/portafolio/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),type:u.lO.config});case 5:return i=r.sent,r.next=8,i.json();case 8:o=r.sent,404===i.statusCode&&(y("Hubo un error. Intente de nuevo"),setTimeout((function(){y("")}),5e3)),200===i.status&&(y(o.message),setTimeout((function(){y(""),e.setLineaCreditoSelected("")}),5e3)),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(2),x(!1),y("Hubo un error. Intentelo m\xe1s tarde"),setTimeout((function(){y("")}),5e3);case 18:case"end":return r.stop()}}),r,null,[[2,13]])})));return function(){return r.apply(this,arguments)}}();return h?(0,i.jsxs)("div",{children:[" ",(0,i.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,i.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,i.jsx)("div",{className:"spinner_cont items-center",children:(0,i.jsx)("span",{className:"material spinner"})})]})," "]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg text-color-black font-semibold text-center mt-1 mb-2",children:e.lineaDeCredito.nombre}),(0,i.jsx)(c.J9,{initialValues:e.lineaDeCredito,validationSchema:l.Ry().shape({nombre:l.Z_().required("Requerido").typeError("Debe ser texto"),num_cuotas:l.Rx().required("Requerido").typeError("Debe ser un n\xfamero").min(1,"No puede ser cero ni un numero menor a uno"),num_salarios:l.Rx().notRequired("Requerido").typeError("Debe ser un n\xfamero").min(0,"No puede ser cero ni un numero menor a cero").nullable(!0),monto_total:l.Rx().required("Requerido").typeError("Debe ser un n\xfamero").min(0,"No puede ser cero ni un numero menor a cero"),num_salarios_minimo:l.Rx().notRequired().typeError("Debe ser un numero").min(0,"No puede ser cero ni un numero menor a cero").nullable(!0),monto_minimo:l.Rx().notRequired().typeError("Debe ser un numero").min(0,"No puede ser cero ni un numero menor a cero")}),onSubmit:function(e){E(e),t(!0)},children:function(e){var r=e.values;return(0,i.jsxs)(c.l0,{children:[(0,i.jsx)("div",{className:"body-card-custom",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Nombre l\xednea de cr\xe9dito:"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(c.gN,{className:"".concat(O," border-radius"),type:"text",name:"nombre",value:r.nombre}),(0,i.jsx)("div",{className:"texto-error",children:(0,i.jsx)(c.Bc,{name:"nombre"})})]})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Plazo m\xe1ximo en meses:"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(c.gN,{className:O,type:"number",name:"num_cuotas",placeholder:"36",onWheel:d.F}),(0,i.jsx)("div",{className:"texto-error",children:(0,i.jsx)(c.Bc,{name:"num_cuotas"})})]})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Monto m\xednimo:"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(c.gN,{className:O,type:"number",name:"monto_minimo",onWheel:d.F,placeholder:"1'000.000"}),(0,i.jsx)("div",{className:"texto-error",children:(0,i.jsx)(c.Bc,{name:"monto_minimo"})})]})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("label",{children:"Monto m\xe1ximo:"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(c.gN,{className:O,type:"number",name:"monto_total",placeholder:"100'.000.000",onWheel:d.F}),(0,i.jsx)("div",{className:"texto-error",children:(0,i.jsx)(c.Bc,{name:"monto_total"})})]})]})]})}),(0,i.jsx)("div",{className:"footer-card-custom",children:(0,i.jsxs)("div",{className:"flex justify-center md:justify-end flex-col md:flex-row",children:[(0,i.jsx)("button",{type:"submit",className:"btn-texto-gris",onClick:D,children:"Cancelar"}),(0,i.jsx)("button",{type:"button",className:"btn-texto-rojo",onClick:function(){return e=r,x(!0),void T(e);var e},children:"Eliminar"}),(0,i.jsx)("button",{type:"submit",className:"btn-primario",children:"Guardar"})]})}),""!==j?(0,i.jsx)("div",{className:j.includes("error")?"mb-4 mensaje-error px-4 py-3 relative":"mb-4 mensaje-exito px-4 py-3 relative",children:j}):null]})}}),n?(0,i.jsx)(m.Z,{nodo:"edit-credit",children:(0,i.jsxs)("div",{className:"card-modal-sm",children:[(0,i.jsxs)("div",{className:"body-card-modal-sm",children:[(0,i.jsx)("h1",{className:"titulo-modal-info",children:"Confirmar acci\xf3n"}),(0,i.jsx)("p",{children:"\xbfEsta seguro(a) que desea editar este cr\xe9dito?"})]}),(0,i.jsxs)("div",{className:"flex justify-center footer-card-modal-sm",children:[(0,i.jsx)("button",{type:"submit",className:"btn-primario order-2 ml-4",onClick:A,children:"Si"}),(0,i.jsx)("button",{type:"submit",className:"btn-texto-gris order-1 ml-4",onClick:function(){t(!1)},children:"Cancelar"})]})]})}):null,(0,i.jsx)("div",{id:"edit-credit",className:n&&k}),(0,i.jsx)("div",{id:"delete-credit",className:f&&k}),f?(0,i.jsx)(m.Z,{nodo:"delete-credit",className:"flex items-center",children:(0,i.jsxs)("div",{className:"border rounded-lg p-4 flex flex-col bg-white ",children:[(0,i.jsx)("h1",{children:"\xbfEsta seguro de eliminar esta l\xednea de cr\xe9dito?"}),(0,i.jsxs)("div",{className:"flex justify-center",children:[(0,i.jsx)("button",{type:"submit",className:"mr-4 mt-6 p-2 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",onClick:I,children:"Si"}),(0,i.jsx)("button",{type:"submit",className:"mt-6 p-2 w-2/5 font-bold text-white rounded-full bg-red-500",onClick:function(){x(!1)},children:"No"})]})]})}):null]})},E=(n(8198),n(1319)),P=n(8908),R=n(6135),T=n(9842);function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function D(e,r,n,t,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?r(c):Promise.resolve(c).then(t,a)}function I(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function o(e){D(i,t,a,o,s,"next",e)}function s(e){D(i,t,a,o,s,"throw",e)}o(void 0)}))}}function q(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return A(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(){var e=M(o.useState(""),2),r=e[0],n=e[1],t=M(o.useState(!1),2),c=t[0],l=t[1],d=M(o.useState({}),2),m=d[0],f=d[1],x=M(o.useState(""),2),p=x[0],h=x[1],b=M(o.useState([]),2),j=b[0],y=b[1],g=M(o.useState(!0),2),N=g[0],_=g[1],w=M(o.useState(null),2),S=w[0],O=w[1];function k(e){return A.apply(this,arguments)}function A(){return(A=I(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=I(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/autenticacionms/","auth/obtener-token-interno"),e.next=4,k(r);case 4:return n=e.sent.access_token,localStorage.setItem("token_interno",n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return o.useEffect((function(){l(!0);var e=j.filter((function(e){return e.nombre===r}));f(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){q(e,r,n[r])}))}return e}({},e[0])),l(!1)}),[r]),o.useEffect((function(){function e(){return(e=I(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.n0)("config/credito/portafolio",{type:u.lO.config});case 2:if(!((r=e.sent).status>400)){e.next=7;break}O("Error - ".concat(r.statusText)),_(!1),e.next=13;break;case 7:return e.next=9,r.json();case 9:n=e.sent,y(n),O(null),_(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return D.apply(this,arguments)})().then((function(){return function(){return e.apply(this,arguments)}()}))}),[]),(0,i.jsx)(P.Z,{children:(0,i.jsx)(s.c,{children:N?(0,i.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,i.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,i.jsx)("div",{className:"spinner_cont items-center",children:(0,i.jsx)("span",{className:"material spinner"})})]}):S?(0,i.jsx)(R.default,{message:S}):j.length>0?(0,i.jsxs)("div",{className:"relative flex flex-col justify-center ",children:[(0,i.jsx)(E.Z,{children:" Configuraci\xf3n cr\xe9ditos"}),(0,i.jsxs)("div",{className:"flex flex-col card-custom w-full",children:[(0,i.jsx)("div",{className:"header-card-custom",children:"Configurar inter\xe9s"}),(0,i.jsx)(v,{setSalarioMinimo:h})]}),(0,i.jsxs)("div",{className:"flex flex-col card-custom w-full mt-4",children:[(0,i.jsx)("div",{className:"header-card-custom",children:"Editar cr\xe9ditos"}),(0,i.jsx)("div",{className:"body-card-custom flex",children:(0,i.jsx)(z,{lineaDeCreditos:j,lineaCreditoSelected:r,setLineaCreditoSelected:n})}),""!==r?c?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,i.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,i.jsx)("div",{className:"spinner_cont items-center",children:(0,i.jsx)("span",{className:"material spinner"})})]})," "]}):(0,i.jsx)("div",{children:(0,i.jsx)(C,{lineaCreditoSelected:r,lineaDeCredito:m,setLineaCreditoSelected:n})}):null]}),(0,i.jsxs)("div",{className:"flex flex-col card-custom w-full mt-4",children:[(0,i.jsx)("div",{className:"header-card-custom",children:"Agregar l\xednea de cr\xe9ditos"}),(0,i.jsx)(T.default,{salarioMinimo:p})]})]}):(0,i.jsx)("div",{children:"mmmm"})})})};function z(e){var r=e.lineaDeCreditos,n=e.lineaCreditoSelected,t=e.setLineaCreditoSelected;return(0,i.jsx)(o.Fragment,{children:(0,i.jsxs)("select",{id:"linea_creditos",name:"linea_credito",onChange:function(e){return t(e.target.value)},value:n,className:"mx-auto h-12 px-4 py-2 text-base border border-color_gray_5 placeholder-color_gray_5 rounded-2xl my-4 w-full md:w-1/2",children:[(0,i.jsx)("option",{value:"",children:" ---- Elige una linea de credito para configurar ---- "}),r.map((function(e){return(0,i.jsx)("option",{value:e.nombre,children:e.nombre},e.portafolio_id)}))]})})}}},function(e){e.O(0,[551,842,774,888,179],(function(){return r=3684,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
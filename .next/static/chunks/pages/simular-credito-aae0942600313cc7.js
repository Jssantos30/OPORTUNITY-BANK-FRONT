(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{8782:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/simular-credito",function(){return n(9837)}])},3865:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.title,n=e.image_url;return(0,r.jsxs)("section",{className:"flex md:h-60 flex-col md:flex-row",children:[(0,r.jsx)("div",{className:"md:w-1/2",children:(0,r.jsx)("img",{src:n,alt:"img-capital-semilla",className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"flex justify-center md:justify-start items-center w-11/12 mx-auto md:w-1/2",children:(0,r.jsx)("h1",{className:"text-4xl lg:text-5xl p-6 font-semibold",children:t})})]})}},9837:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return S},default:function(){return O}});var r=n(4051),o=n.n(r),a=n(5893),s=n(7294);function l(e,t,n,r,o){if(r="undefined"!==typeof r?r:0,o="undefined"!==typeof o?o:0,0!=e){var a=Math.pow(1+e,t);return(-e*(r+a*n)/((-1+a)*(1+e*o))).toFixed(2)}return 0!=t?(-(r+n)/t).toFixed(2):0}var i=n(3865),c=n(1003),u=function(e){var t=e.lineaCreditoInfo;return(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("h2",{className:"text-center text-2xl font-semibold text-color_primary_2_ligth my-4",children:[" ","Las condiciones para esta l\xednea son:"," "]}),(0,a.jsxs)("div",{className:"mb-16",children:[(0,a.jsx)("div",{className:"flex justify-evenly mt-4 border-b-2",children:(0,a.jsxs)("div",{className:"w-11/12 mx-auto flex flex-col items-center text-center md:flex-row md:text-left",children:[(0,a.jsx)("span",{className:"font-semibold w-1/2",children:"Un plazo de:"}),(0,a.jsxs)("span",{className:" font-semibold w-1/2",children:["Entre 1 hasta ",t.num_cuotas," meses"]})]})}),(0,a.jsx)("div",{className:"flex justify-evenly mt-4 border-b-2",children:(0,a.jsxs)("div",{className:"w-11/12 mx-auto flex flex-col items-center text-center md:flex-row md:text-left",children:[(0,a.jsx)("span",{className:"text-lg font-semibold w-1/2",children:"Un monto m\xe1ximo de:"}),(0,a.jsx)("span",{className:"text-lg font-semibold w-1/2",children:"$ ".concat((0,c.q)(t.monto_total))})]})})]})]})};function d(e){return(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{className:"border",children:[(0,a.jsx)("td",{className:"text-center p-4",children:e.periodo}),(0,a.jsx)("td",{className:"text-center p-4",children:(0,c.q)(e.cuota)}),(0,a.jsx)("td",{className:"text-center p-4",children:(0,c.q)(e.interes)}),(0,a.jsx)("td",{className:"text-center p-4",children:(0,c.q)(e.capital)}),(0,a.jsx)("td",{className:"text-center p-4",children:(0,c.q)(e.saldo)})]})})}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t=e.lineaCreditoInfo,n=e.valoresSimulacion,r=e.setValoresSimulacion,o=(e.selected,e.refMonto),l=function(e){var o=e.target;r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},n,m({linea_credito:t.nombre},o.name,o.value)))};return(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("div",{className:"border bg-white rounded-lg p-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4",children:[(0,a.jsx)("p",{className:"pb-4 text-center md:text-left md:pb-0 font-semibold text-color_primary_2_ligth text-xl w-3/5",children:"\xbfEn cu\xe1ntas cuotas desear\xeda pagar?"}),(0,a.jsxs)("select",{onChange:l,label:"",name:"cuotas",className:"h-10 border w-full pl-4 border-color_gray_4 rounded-lg md:w-2/6",value:n.cuotas,children:[(0,a.jsxs)("option",{value:"",className:"font-light",children:[" ","---Seleccione cuota ---"," "]}),function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}(t.num_cuotas).map((function(e,t){return(0,a.jsx)("option",{value:e,children:e},t)}))]},"cuotas")]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4",children:[(0,a.jsx)("p",{className:"text-center md:text-left font-semibold text-color_primary_2_ligth text-xl mb-4 md:mb-0 w-3/5",children:"\xbfCu\xe1nto dinero desea solicitar?"}),(0,a.jsx)("input",{onChange:l,ref:o,label:"",name:"monto",type:"number",className:"text-center w-full font-semibold h-10 border border-color_gray_5 rounded-lg md:w-2/6",min:0,max:Number(t.monto_total),placeholder:"$",value:n.monto},"monto")]})]})})},x=n(1664),p=function(){return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row border-2 p-6 items-center justify-between rounded-lg my-6",children:[(0,a.jsxs)("p",{className:"pb-4 md:pb-0 text-lg font-semibold",children:["Si no conoces nuestras l\xedneas de cr\xe9ditos..."," "]}),(0,a.jsx)(x.default,{href:"/creditos",children:(0,a.jsx)("a",{className:"text-color_primary_2_ligth px-4 py-2 border border-color_primary_2_ligth rounded-full font-semibold",children:"Con\xf3celas aqu\xed"})})]})};var h=function(e,t,n){var r={periodo:0,cuota:0,interes:0,capital:0,saldo:e.monto};return t.push(r),function t(r){var o=r.length;if(!(r[o-1].saldo<=0)){var a=n,s=r[o-1],i=Math.ceil(l(a,Number(e.cuotas),-Number(e.monto))),c=(a*Number(s.saldo)).toFixed(2),u=(i-c).toFixed(2),d={cuota:i,interes:c,capital:u,saldo:(s.saldo-u).toFixed(2)};r.push(d),t(r)}}(t),t},v=n(8198),b=n(4986);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,a,s){try{var l=e[a](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){y(a,r,o,s,l,"next",e)}function l(e){y(a,r,o,s,l,"throw",e)}s(void 0)}))}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(i){l=!0,o=i}finally{try{s||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _={monto:"",cuotas:"",linea_credito:""};var S=!0,O=function(){var e=N(s.useState([]),2),t=e[0],n=e[1],r=N(s.useState(),2),m=r[0],x=r[1],j=N(s.useState(null),2),y=(j[0],j[1],N(s.useState(""),2)),S=y[0],O=y[1],E=N(s.useState([]),2),P=E[0],I=E[1],q=N(s.useState(""),2),F=q[0],A=q[1],M=N(s.useState(!1),2),T=M[0],L=M[1],U=N(s.useState(_),2),D=U[0],$=U[1],R=N(s.useState(null),2),V=R[0],Z=R[1],H=N(s.useState(""),2),X=H[0],z=H[1],B=N(s.useState(""),2),G=B[0],J=B[1];function K(e){return Q.apply(this,arguments)}function Q(){return(Q=g(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=g(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("https://www.medellin.gov.co/bancopobres/autenticacionms/","auth/obtener-token-interno"),e.next=4,K(t);case 4:return n=e.sent.access_token,localStorage.setItem("token_interno",n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Y(){return(Y=g(o().mark((function e(){var t,r,a,s,l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.n0)("config/credito/portafolio",{type:b.lO.config});case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.next=9,(0,b.n0)("config/credito/tasas",{type:b.lO.config});case 9:return a=e.sent,e.next=12,a.json();case 12:s=e.sent.corriente,t.ok&&a.ok&&(l=r||[],i=(s||{}).valor_tasa,n(l),x(i)),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}s.useEffect((function(){(function(){return W.apply(this,arguments)})().then((function(){return function(){return Y.apply(this,arguments)}()}))}),[]),s.useEffect((function(){$(_),J("");var e=null===t||void 0===t?void 0:t.filter((function(e){return e.nombre===S}));I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},e[0]))}),[t,S]),s.useEffect((function(){[D.monto,D.cuotas].includes("")&&Z(null)}),[D]);var ee,te=s.useRef("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"Simula tu cr\xe9dito",image_url:"".concat("/bancopobres","/simulador-banner.png")}),(0,a.jsx)("section",{className:"bg-color_gray_2 h-full py-24",children:(0,a.jsx)("div",{className:"main-wrapper",children:(0,a.jsxs)("div",{className:"w-11/12 md:w-3/5 mx-auto",children:[(0,a.jsx)(v.Z,{children:"Elige una l\xednea de cr\xe9dito "}),(0,a.jsx)(k,{lineaCreditos:t,lineaCreditoSelected:S,setLineaCreditoSelected:O}),""!==S?(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{lineaCreditoInfo:P}),(0,a.jsx)(f,{lineaCreditoInfo:P,valoresSimulacion:D,setValoresSimulacion:$,selected:G,refMonto:te}),""!==F?(0,a.jsx)("div",{className:F.includes("error")?"mensaje-error mb-4 px-4 py-3 rounded relative":"mensaje-exito mb-4 px-4 py-3 rounded relative",children:F}):null,(0,a.jsx)("button",{type:"submit",onClick:function(e){var t,n,r;if(e.preventDefault(),(null===te||void 0===te||null===(t=te.current)||void 0===t?void 0:t.value)&&((null===te||void 0===te||null===(n=te.current)||void 0===n?void 0:n.value)>P.monto_total||(null===te||void 0===te||null===(r=te.current)||void 0===r?void 0:r.value)<0))return A("Hubo un error, Valor del prestamos sobrepasa el valor m\xe1ximo de prestamo ".concat((0,c.q)(P.monto_total))),Z(null),void setTimeout((function(){A("")}),5e3);if(""===D.monto||""===D.cuotas)return A("Hubo un error, Ingrese los campos de cuota y monto para simular el prestamo"),void setTimeout((function(){A("")}),5e3);if(L(!0),""!==D.monto&&""!==D.cuotas){var o=function(e,t){return Math.ceil(l(t,Number(e.cuotas),-Number(e.monto)))}(D,m);o=(0,c.q)(o),z(o);var a=h(D,[],m);Z(a)}L(!1)},className:"flex mx-auto py-2 mt-6 px-6 text-white text-sm font-semibold rounded-full bg-color_primary_2_ligth",children:"SIMULAR MI CR\xc9DITO"})]}):null,T?(0,a.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,a.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,a.jsx)("div",{className:"spinner_cont items-center",children:(0,a.jsx)("span",{className:"material spinner"})})]}):V?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-lg font-semibold",children:["Cuotas de: ",(0,a.jsxs)("span",{className:"text-color_primary_1",children:["$",X]})]})}),(0,a.jsx)(C,{children:(ee=V,ee.map((function(e,t){var n=e.cuota,r=e.interes,o=e.capital,s=e.saldo;return s<=0?(0,a.jsx)(d,{periodo:t,cuota:n,interes:r,capital:o,saldo:0},t):(0,a.jsx)(d,{periodo:t,cuota:n,interes:r,capital:o,saldo:s},t)})))})]}):null,(0,a.jsx)(p,{}),(0,a.jsx)("hr",{})]})})})]})};function C(e){var t=e.children;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("h1",{className:"text-center my-8 text-xl font-semibold text-color_primary_2_ligth",children:"As\xed ser\xeda el pago mensual de tu cr\xe9dito"}),(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"mx-auto",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-color_primary_2_ligth",children:[(0,a.jsx)("th",{className:"p-4 text-center text-white",children:"periodo"}),(0,a.jsx)("th",{className:"p-4 text-center text-white",children:"cuota"}),(0,a.jsx)("th",{className:"p-4 text-center text-white",children:"inter\xe9s"}),(0,a.jsx)("th",{className:"p-4 text-center text-white",children:"capital"}),(0,a.jsx)("th",{className:"p-4 text-center text-white",children:"saldo"})]})}),t]})})]})}function k(e){var t=e.lineaCreditos,n=e.setLineaCreditoSelected;return(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("select",{id:"linea_creditos",name:"linea_credito",onChange:function(e){return n(e.target.value)},className:"w-full h-12 px-4 py-2 my-1 text-base border border-color_gray_5 placeholder-color_gray_5 rounded-2xl mt-8",children:[(0,a.jsx)("option",{value:"",children:" ---- Elige una linea de credito ---- "}),t.map((function(e){return(0,a.jsx)("option",{value:e.nombre,children:e.nombre},e.portafolio_id)}))]})})}},1003:function(e,t,n){"use strict";function r(e){return Number(e).toLocaleString("en-US")}n.d(t,{q:function(){return r}})}},function(e){e.O(0,[774,888,179],(function(){return t=8782,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
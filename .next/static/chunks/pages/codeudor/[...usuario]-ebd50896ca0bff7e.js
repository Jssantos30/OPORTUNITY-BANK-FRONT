(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{8995:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/codeudor/[...usuario]",function(){return n(4989)}])},4989:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return Je},default:function(){return Ge}});var t=n(5893),a=n(7294),o=n(1163),i=n(1664),s=n(4051),l=n.n(s),c=n(2580),u=n(4231),d="h-10 border border-gray-400 px-4",m=[{id:63,name:"tipo_identificacion",fieldName:"Tipo de identificacion",type:"select",className:"".concat(d),options:[{id:63.2,name:"C.C",fieldName:"C.C"},{id:63.3,name:"C.E",fieldName:"C.E"}]},{id:64,name:"num_identificacion",fieldName:"No. De identificaci\xf3n",type:"number",className:"".concat(d)},{id:66,name:"primer_nombre",fieldName:"Primer Nombre",type:"text",className:"".concat(d)},{id:67,name:"segundo_nombre",fieldName:"Segundo Nombre",type:"text",className:"".concat(d)},{id:68,name:"primer_apellido",fieldName:"Primer Apellido",type:"text",className:"".concat(d)},{id:69,name:"segundo_apellido",fieldName:"Segundo Apellido",type:"text",className:"".concat(d)},{id:70,name:"fecha_nacimiento",fieldName:"Fecha de nacimiento",type:"date",className:"".concat(d)},{id:"70-a",name:"seguridad_social",fieldName:"Seguridad Social",type:"select",className:"".concat(d),options:[{id:11.2,name:"EPS",fieldName:"EPS"},{id:11.3,name:"Sisb\xe9n",fieldName:"Sisb\xe9n"},{id:11.4,name:"N/a",fieldName:"No Aplica"}]},{id:"70-b",name:"num_identificacion_deudor",fieldName:"No. De identificaci\xf3n del deudor",type:"number",className:"".concat(d)}],f=n(7576),p=n(2035),b=n(3491),y=n(843),v=n(6960),h=n(6135);function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function _(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function g(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){_(o,t,a,i,s,"next",e)}function s(e){_(o,t,a,i,s,"throw",e)}i(void 0)}))}}function N(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){N(e,r,n[r])}))}return e}function w(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return x(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O="mensaje-error mb-4 px-4 py-3 rounded relative",C=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,x=S(r.query.usuario,2),_=x[0],N=x[1],C=e.userInfo,q=C.primer_nombre,A=C.segundo_nombre,E=C.primer_apellido,P=C.segundo_apellido,I=C.num_identificacion,R=S(a.useState(!1),2),F=R[0],k=(R[1],{tipo_identificacion:"",num_identificacion:I||"",primer_nombre:q||"",segundo_nombre:A||"",primer_apellido:E||"",segundo_apellido:P||"",fecha_nacimiento:"",seguridad_social:"",num_identificacion_deudor:""}),Z=S(a.useState(k),2),M=Z[0],D=Z[1],T=S(a.useState(!1),2),z=T[0],B=T[1],V=S(a.useState(""),2),U=V[0],L=V[1],$=S(a.useState(null),2),H=$[0],Y=$[1],J=S(a.useState(null),2),G=J[0],W=J[1];return a.useEffect(g(l().mark((function e(){var r,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),N){e.next=4;break}return B(!1),e.abrupt("return");case 4:return e.prev=4,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(N,"?seccion=").concat(s),e.next=8,(0,v.Y)(r);case 8:if(t=e.sent,a=t.response,t.error){e.next=20;break}return e.next=14,a.json();case 14:o=e.sent,404===a.status&&(D(M),Y(null),B(!1)),401===a.status&&(B(!1),Y("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(D(j({},o)),Y(null),B(!1)),e.next=21;break;case 20:window.localStorage.clear(),n("/login");case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(4),console.log(e.t0),L("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente"),setTimeout((function(){return L("")}),3e3);case 28:case"end":return e.stop()}}),e,null,[[4,23]])}))),[]),z?(0,t.jsx)("div",{children:"Loading ...."}):H?(0,t.jsx)(h.default,{message:H}):(0,t.jsx)("div",{children:(0,t.jsx)(c.J9,{initialValues:M,validationSchema:u.Ry({tipo_identificacion:u.Z_().required("requerido").oneOf(["C.C","C.E"]),num_identificacion:u.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive(" Debe ser mayor a 0"),primer_nombre:u.Z_().required("requerido").matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales."),segundo_nombre:u.Z_().matches("^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$","No se permiten n\xfameros ni caracteres especiales."),primer_apellido:u.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),segundo_apellido:u.Z_().notRequired().nullable(!0).matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),fecha_nacimiento:u.hT().required("requerido").test("fecha_nacimiento","",(function(e){if(!e)return!0;return!(function(e){var r=Date.now()-e.getTime(),n=new Date(r);return Math.abs(n.getUTCFullYear()-1970)}(e)>75)||this.createError({message:"La m\xe1xima edad para el codeudor es de ".concat(75," a\xf1os")})})),seguridad_social:u.Z_().required("requerido").oneOf(["EPS","Sisb\xe9n","N/a"]),num_identificacion_deudor:u.Rx().required("requerido").typeError("Deber ser un numero").positive()}),onSubmit:function(){var n=g(l().mark((function n(t){var a,o,i,s,c,u,m;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setForm((function(e){return j({},e,{formulario_codeudor:j({},e.formulario_codeudor,{informacion_basica:j({},t)})})})),a=t.num_identificacion,o=t.num_identificacion_deudor,i=w(t,["num_identificacion","num_identificacion_deudor"]),s={seccion:"FCO_1",data:j({},i,{num_identificacion:Number(a),num_identificacion_deudor:Number(o)})},n.prev=3,n.next=6,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),s);case 6:c=n.sent,u=c.res,m=c.responseComplete,c.error,404===u.statusCode&&(L(u.message),setTimeout((function(){L("")}),3e3)),m?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedBasicInformation"}),e.setSolicitud_id(u.solicitud_credito),e.setCurrent(e.current+1),r.push("/codeudor/".concat(t.num_identificacion||_,"/").concat(u.solicitud_credito||N,"?paso=FCO_2&rol=").concat(d))):(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedBasicInformation"}),W("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){W(null)}),5e3)),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}(),children:function(e){e.values;return(0,t.jsxs)(c.l0,{children:[m.map((function(e){return"select"===e.type?(0,t.jsx)(b.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"date"===e.type?(0,t.jsx)("div",{children:(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id):"num_identificacion"===e.name?(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className,disabled:F},e.id):(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})})),""!==U&&(0,t.jsx)("div",{className:O,children:U}),G?(0,t.jsx)("div",{className:O,children:G}):null,(0,t.jsx)("div",{className:"flex justify-center md:justify-end",children:(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})})]})}})})},q=n(5498),A="h-10 border border-gray-400 px-4",E=[{id:81,name:"nombre",fieldName:"Nombre completo del c\xf3nyugue",type:"text",className:"".concat(A)},{id:"81-a",name:"num_identificacion",fieldName:"No. De identificaci\xf3n",type:"number",className:"".concat(A)},{id:83,name:"sexo",fieldName:"Sexo",type:"select",className:"".concat(A),options:[{id:83.2,name:"Masculino",fieldName:"Masculino"},{id:83.3,name:"Femenino",fieldName:"Femenino"},{id:83.4,name:"Intersexual",fieldName:"Intersexual"},{id:83.5,name:"Indefinido",fieldName:"Indefinido"}]},{id:84,name:"telefono",fieldName:"Tel\xe9fono del c\xf3nyugue o pareja",type:"number",className:"".concat(A)},{id:"84-a",name:"lugar_trabajo",fieldName:"Lugar de trabajo",type:"text",className:"".concat(A)},{id:85,name:"telefono_trabajo",fieldName:"Telefono de lugar de trabajo",type:"number",className:"".concat(A)}];function P(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function I(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function R(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){I(o,t,a,i,s,"next",e)}function s(e){I(o,t,a,i,s,"throw",e)}i(void 0)}))}}function F(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function k(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){F(e,r,n[r])}))}return e}function Z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return P(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,m=Z(r.query.usuario,2),p=m[0],x=m[1],_=Z(a.useState({nombre:"",num_identificacion:"",sexo:"",telefono:"",lugar_trabajo:"",telefono_trabajo:""}),2),g=_[0],N=_[1],j=Z(a.useState(!0),2),w=j[0],S=j[1],O=Z(a.useState(null),2),C=O[0],q=O[1],A=Z(a.useState(null),2),P=A[0],I=A[1];a.useEffect(R(l().mark((function e(){var r,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(x,"?seccion=").concat(s),e.next=4,(0,v.Y)(r);case 4:if(t=e.sent,a=t.response,t.error){e.next=16;break}return e.next=10,a.json();case 10:o=e.sent,404===a.status&&(N(g),q(null),S(!1)),401===a.status&&(S(!1),q("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(N(k({},o)),S(!1),q(null)),e.next=17;break;case 16:window.localStorage.clear(),n("/login");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),[]);var F=function(){r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||x,"?paso=FCO_1&rol=").concat(d))};return w?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):C?(0,t.jsx)(h.default,{message:C}):(0,t.jsx)("div",{children:(0,t.jsx)(c.J9,{initialValues:g,validationSchema:u.Ry({nombre:u.Z_().required("requerido"),num_identificacion:u.Rx().required("requerido"),sexo:u.Z_().required("requerido").typeError("Ingresa un sexo v\xe1lido").oneOf(["Masculino","Femenino","Intersexual","Indefinido"]),telefono:u.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive(" Debe ser mayor a 0"),lugar_trabajo:u.Z_().required("requerido"),telefono_trabajo:u.Rx().typeError("Debe ser un n\xfamero").required("requerido").positive(" Debe ser mayor a 0")}),onSubmit:function(){var n=R(l().mark((function n(t){var a,o,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setForm((function(e){return k({},e,{formulario_codeudor:k({},e.formulario_codeudor,{conyugue:k({},t)})})})),a={seccion:"FCO_2",solicitud_id:e.solicitud_id||x,data:k({},t)},n.prev=2,n.next=5,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 5:o=n.sent,o.res,i=o.responseComplete,o.error,i?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedInfoMate"}),e.setCurrent(e.current+1),r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||x,"?paso=FCO_3&rol=").concat(d))):(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedInfoMate"}),I("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){I(null)}),5e3)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e){return n.apply(this,arguments)}}(),children:function(){return(0,t.jsxs)(c.l0,{children:[E.map((function(e){return"select"===e.type?(0,t.jsx)(b.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})})),P?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:P}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:F,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Siguiente"," "]})]})]})}})})},D=n(4108),T="h-10 border border-gray-400 px-4",z=[{id:"83-a.b",name:"sexo",fieldName:"Sexo",type:"select",className:"".concat(T),options:[{id:83.2,name:"Masculino",fieldName:"Masculino"},{id:83.3,name:"Femenino",fieldName:"Femenino"},{id:83.4,name:"Intersexual",fieldName:"Intersexual"},{id:83.5,name:"Indefinido",fieldName:"Indefinido"}]},{id:"identidad-genero-525",name:"identidad_genero",fieldName:"Identidad de genero",type:"select",className:"".concat(T),options:[{id:"identidad-genero-525.1",name:"Mujer Trans",fieldName:"Mujer Trans"},{id:"identidad-genero-525.2",name:"Hombre Trans",fieldName:"Hombre Trans"},{id:"identidad-genero-525.3",name:"Fluido-No Binario",fieldName:"Fluido-No Binario"},{id:"identidad-genero-525.4",name:"Mujer Cis",fieldName:"Mujer Cis"},{id:"identidad-genero-525.5",name:"Hombre Cis",fieldName:"Hombre Cis"},{id:"identidad-genero-525.6",name:"Travesti",fieldName:"Travesti"},{id:"identidad-genero-525.7",name:"Transexual",fieldName:"Transexual"},{id:"identidad-genero-525.8",name:"Transformista",fieldName:"Transformista"},{id:"identidad-genero-525.9",name:"Otro",fieldName:"Otro"},{id:"identidad-genero-525.10",name:"Sin Dato",fieldName:"Sin Dato"},{id:"identidad-genero-525.10",name:"No sabe No responde",fieldName:"No sabe No responde"}]},{id:86,name:"estado_civil",fieldName:"Estado Civ\xedl",type:"select",className:"".concat(T),options:[{id:86.1,name:"Soltero",fieldName:"Soltero"},{id:86.2,name:"Casado",fieldName:"Casado"},{id:86.3,name:"Viudo",fieldName:"Viudo"},{id:86.4,name:"Union Libre",fieldName:"Uni\xf3n libre"},{id:86.5,name:"Divorciado",fieldName:"Divorciado"}]},{id:88,name:"nivel_escolaridad",fieldName:"Nivel de escolaridad",type:"select",className:"".concat(T),options:[{id:88.1,name:"Ninguno",fieldName:"Ninguno"},{id:88.2,name:"Primaria",fieldName:"Primaria"},{id:88.3,name:"Bachiller",fieldName:"Bachiller"},{id:88.4,name:"Tecnico",fieldName:"T\xe9cnico"},{id:88.5,name:"Tecnologo",fieldName:"Tecn\xf3logo"},{id:88.6,name:"Profesional",fieldName:"Profesional"},{id:88.7,name:"Especialista",fieldName:"Especialista"},{id:88.8,name:"Magister",fieldName:"Magister"},{id:88.9,name:"Doctorado",fieldName:"Doctorado"}]},{id:87,name:"personas_a_cargo",fieldName:"Numero de personas a cargo",type:"number",className:"".concat(T)},{id:89,name:"estado_laboral",fieldName:"Estado Laboral",type:"select",className:"".concat(T),options:[{id:89.1,name:"Empleado",fieldName:"Empleado"},{id:89.2,name:"Desempleado",fieldName:"Desempleado"}]}];function B(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function V(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function U(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){V(o,t,a,i,s,"next",e)}function s(e){V(o,t,a,i,s,"throw",e)}i(void 0)}))}}function L(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){L(e,r,n[r])}))}return e}function H(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return B(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,m=Y(r.query.usuario,2),x=m[0],_=m[1],g=Y(a.useState({sexo:"",identidad_genero:"",estado_civil:"",nivel_escolaridad:"",personas_a_cargo:"",estado_laboral:"",poblacion_campesina:"NO",nombre_empresa:"",direccion_empresa:"",telefono_empresa:""}),2),N=g[0],j=g[1],w=Y(a.useState(!0),2),S=w[0],O=w[1],C=Y(a.useState(null),2),A=C[0],E=C[1],P=Y(a.useState(null),2),I=P[0],R=P[1];a.useEffect(U(l().mark((function e(){var r,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(_,"?seccion=").concat(s),e.next=4,(0,v.Y)(r);case 4:if(t=e.sent,a=t.response,t.error){e.next=16;break}return e.next=10,a.json();case 10:o=e.sent,404===a.status&&(j(N),E(null),O(!1)),401===a.status&&(O(!1),E("Hubo un error al consultar los datos del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(j($({},o)),E(null),O(!1)),e.next=17;break;case 16:window.localStorage.clear(),n("/login");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),[]);var F=function(){r.push("/codeudor/".concat(x,"/").concat(e.solicitud_id||_,"?paso=FCO_2&rol=").concat(d))},k="h-10 border border-gray-400 px-4";return S?(0,t.jsx)("div",{children:"Loading ... "}):A?(0,t.jsx)(h.default,{message:A}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Variables poblacionales"}),(0,t.jsx)(c.J9,{initialValues:N,validationSchema:u.Ry({sexo:u.Z_().required("requerido").oneOf(["Masculino","Femenino","Intersexual","Indefinido"]),identidad_genero:u.Z_().required("requerido").oneOf(["Mujer Trans","Hombre Trans","Fluido-No Binario","Mujer Cis","Hombre Cis","Travesti","Transexual","Transformista","Otro","Sin Dato","No sabe No responde"]),estado_civil:u.Z_().required("requerido").oneOf(["Soltero","Casado","Viudo","Union Libre","Divorciado"]),nivel_escolaridad:u.Z_().required("requerido").oneOf(["Ninguno","Primaria","Bachiller","Tecnico","Tecnologo","Profesional","Especialista","Magister","Doctorado"]),personas_a_cargo:u.Rx().required("requerido"),estado_laboral:u.Z_().required("requerido").oneOf(["Empleado","Desempleado"]),nombre_empresa:u.Z_().when("estado_laboral",{is:function(e){return"Empleado"==e},then:u.Z_().required("requerido").typeError("Ingresa un nombre v\xe1lido para la empresa"),otherwise:u.Z_().notRequired().nullable(!0)}),telefono_empresa:u.Z_().when("estado_laboral",{is:function(e){return"Empleado"==e},then:u.Z_().required("requerido").min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").typeError("Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),otherwise:u.Z_().notRequired().nullable(!0)}),direccion_empresa:u.Z_().when("estado_laboral",{is:function(e){return"Empleado"==e},then:u.Z_().required("requerido").typeError("Ingresa una direcci\xf3n v\xe1lida para la empresa"),otherwise:u.Z_().notRequired().nullable(!0)})}),onSubmit:function(){var n=U(l().mark((function n(t){var a,o,i,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setForm((function(e){return $({},e,{formulario_codeudor:$({},e.formulario_codeudor,{variables_poblacionales:$({},t)})})})),a={seccion:"FCO_3",solicitud_id:e.solicitud_id||_},"Desempleado"===t.estado_laboral?(t.nombre_empresa,t.direccion_empresa,t.telefono_empresa,o=H(t,["nombre_empresa","direccion_empresa","telefono_empresa"]),a.data=$({},o)):a.data=$({},t),n.prev=3,n.next=6,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 6:i=n.sent,i.res,s=i.responseComplete,i.error,s?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedPopulationVariables"}),e.setCurrent(e.current+1),r.push("/codeudor/".concat(x,"/").concat(e.solicitud_id||_,"?paso=FCO_4&rol=").concat(d))):(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedPopulationVariables"}),R("Intenta m\xe1s tarde"),setTimeout((function(){R(null)}),5e3)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e){return n.apply(this,arguments)}}(),children:function(e){var r=e.values;return(0,t.jsxs)(c.l0,{children:[z.map((function(e){return"select"===e.type?(0,t.jsx)(b.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"tel"===e.type?(0,t.jsx)(q.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id):"date"===e.type?(0,t.jsx)("div",{children:(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id):(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})})),"Empleado"===r.estado_laboral?(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Z,{label:"Nombre de la empresa",name:"nombre_empresa",type:"text",className:k,placeholder:"Nombre de la empresa en la que trabajas"},"nombre_empresa"),(0,t.jsx)(f.Z,{label:"Direcci\xf3n de la empresa",type:"text",name:"direccion_empresa",placeholder:"Direcci\xf3n",className:k},"direccion_empresa"),(0,t.jsx)(f.Z,{label:"Tel\xe9fono de la empresa",type:"number",onWheel:D.F,name:"telefono_empresa",placeholder:"Tel\xe9fono de la empresa",className:k},"telefono_empresa")]}):null,I?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:I}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:F,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Siguiente"," "]})]})]})}})]})},G="h-10 border border-gray-400 px-4",W=[{id:92,name:"cuota_arrendamiento",fieldName:"Cuota de arrendamiento",type:"number",className:"".concat(G)},{id:93,name:"gastos_familiares",fieldName:"Gastos Familiares",type:"number",className:"".concat(G)},{id:94,name:"otros_gastos",fieldName:"Otros gastos",type:"number",className:"".concat(G)}],X="h-10 border border-gray-400 px-4",K=[{id:90,name:"salario",fieldName:"Ingreso o Salario",type:"number",className:"".concat(X)},{id:91,name:"otros_ingresos",fieldName:"Otros Ingresos",type:"number",className:"".concat(X)}];function Q(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ee(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function re(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){ee(o,t,a,i,s,"next",e)}function s(e){ee(o,t,a,i,s,"throw",e)}i(void 0)}))}}function ne(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function te(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ne(e,r,n[r])}))}return e}function ae(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Q(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,m=ae(r.query.usuario,2),p=m[0],b=m[1],x=ae(a.useState({salario:"",otros_ingresos:"",ingresos_mensuales:"",cuota_arrendamiento:"",gastos_familiares:"",otros_gastos:"",gastos_mensuales:""}),2),_=x[0],g=x[1],N=ae(a.useState(!0),2),j=N[0],w=N[1],S=ae(a.useState(null),2),O=S[0],C=S[1],q=ae(a.useState(null),2),A=q[0],E=q[1];a.useEffect(re(l().mark((function e(){var r,t,a,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(b,"?seccion=").concat(s),e.next=5,(0,v.Y)(r);case 5:if(t=e.sent,a=t.response,t.error){e.next=17;break}return e.next=11,a.json();case 11:o=e.sent,404===a.status&&(g(_),C(null),w(!1)),401===a.status&&(w(!1),C("Hubo un error, por favor intenta nuevamente")),200===a.status&&(i={salario:o.ingresos.salario,otros_ingresos:o.ingresos.otros_ingresos,ingresos_mensuales:o.ingresos.ingresos_mensuales,cuota_arrendamiento:o.egresos.cuota_arrendamiento,gastos_familiares:o.egresos.gastos_familiares,otros_gastos:o.egresos.otros_gastos,gastos_mensuales:o.egresos.gastos_mensuales},g(te({},i)),C(null),w(!1)),e.next=18;break;case 17:window.localStorage.clear(),n("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),[]);var P=function(){r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||b,"?paso=FCO_4&rol=").concat(d))};return j?(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]}):O?(0,t.jsx)(h.default,{message:O}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:" Ingresos y Egresos"}),(0,t.jsx)(c.J9,{initialValues:_,validationSchema:u.Ry({salario:u.Rx().typeError("Debe ser numero").required("requerido").moreThan(-1),otros_ingresos:u.Rx().typeError("Debe ser numero").notRequired().moreThan(-1),cuota_arrendamiento:u.Rx().typeError("Debe ser numero").required("requerido").positive(),gastos_familiares:u.Rx().typeError("Debe ser numero").required("requerido").positive(),otros_gastos:u.Rx().typeError("Debe ser numero").required("requerido").moreThan(-1),gastos_mensuales:u.Rx().typeError("Debe ser numero").required("requerido").positive(),ingresos_mensuales:u.Rx().typeError("Debe ser numero").required("requerido").positive()}),onSubmit:function(){var t=re(l().mark((function t(a){var o,i,s,c,u,m,f,v;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setForm((function(e){return te({},e,{formulario_codeudor:te({},e.formulario_codeudor,{ingresos_egresos:te({},a)})})})),o=a.salario,i=a.otros_ingresos,a.ingresos_mensuales,s=a.cuota_arrendamiento,c=a.gastos_familiares,u=a.otros_gastos,a.gastos_mensuales,m={seccion:"FCO_5",solicitud_id:e.solicitud_id||b,data:{ingresos:{salario:o,otros_ingresos:i,ingresos_mensuales:o+i},egresos:{cuota_arrendamiento:s,gastos_familiares:c,otros_gastos:u,gastos_mensuales:s+c+u}}},t.prev=3,t.next=6,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),m);case 6:if(f=t.sent,f.res,v=f.responseComplete,!f.error){t.next=14;break}return window.localStorage.clear(),n("/login"),t.abrupt("return");case 14:v?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedIncomeAndExpense"}),e.setCurrent(e.current+1),r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||b,"?paso=FCO_6&rol=").concat(d))):(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedIncomeAndExpense"}),E("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){E(null)}),5e3)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var r=e.values;return(0,t.jsxs)(c.l0,{children:[K.map((function(e){return(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id)})),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Ingresos mensuales"}),(0,t.jsx)("br",{}),(0,t.jsx)(c.gN,{type:"number",onWheel:D.F,disabled:!0,placeholder:"Ingresos Mensuales",name:"ingresos_mensuales",value:r.salario+r.otros_ingresos}),(0,t.jsx)(c.Bc,{name:"ingresos_mensuales"})]}),(0,t.jsx)("br",{}),W.map((function(e){return(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})})),(0,t.jsxs)("div",{className:"flex items-baseline",children:[(0,t.jsx)("label",{className:"text-lg font-bold",children:"Gastos Mensuales: "}),(0,t.jsx)(c.gN,{type:"number",onWheel:D.F,disabled:!0,placeholder:"Gastos Mensuales",name:"gastos_mensuales",className:"rounded-lg border-color_gray_2",value:r.cuota_arrendamiento+r.gastos_familiares+r.otros_gastos}),(0,t.jsx)(c.Bc,{name:"gastos_mensuales"})]}),A?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:A}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:P,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Siguiente"," "]})]})]})}})]})},ie="h-10 border border-gray-400 px-4",se=[{id:95,name:"activos_propios",fieldName:"Activos Propios",type:"number",className:"".concat(ie)},{id:96,name:"num_escritura",fieldName:"N\xfamero de escritura",type:"number",className:"".concat(ie)},{id:97,name:"matricula",fieldName:"Matr\xedcula",type:"number",className:"".concat(ie)},{id:98,name:"avaluo_catastral",fieldName:"Avaluo catastral",type:"number",className:"".concat(ie)}];function le(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ce(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function ue(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){ce(o,t,a,i,s,"next",e)}function s(e){ce(o,t,a,i,s,"throw",e)}i(void 0)}))}}function de(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function me(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){de(e,r,n[r])}))}return e}function fe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return le(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=function(e){var r=function(e){return"Familiar"===w||"Arrendada"===w||(void 0!==e&&null!==e&&""!==e||this.createError({message:"Este campo es requerido"}))},n=(0,o.useRouter)(),i=(0,o.useRouter)().push,s=n.query,d=s.paso,m=s.rol,p=fe(n.query.usuario,2),b=p[0],x=p[1],_=fe(a.useState({activos_propios:null,avaluo_catastral:null,matricula:null,num_escritura:null}),2),g=_[0],N=_[1],j=fe(a.useState(""),2),w=j[0],S=j[1],O=fe(a.useState(!0),2),C=O[0],q=O[1],A=fe(a.useState(null),2),E=A[0],P=A[1],I=fe(a.useState(null),2),R=I[0],F=I[1];a.useEffect((function(){function e(){return(e=ue(l().mark((function e(){var r,n,t,a,o,s,c,u,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(x,"?seccion=").concat(d),n="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(x,"?seccion=FCO_4"),e.next=5,(0,v.Y)(r);case 5:return t=e.sent,a=t.response,o=t.error,e.next=10,(0,v.Y)(n);case 10:if(s=e.sent,!(c=s.response)){e.next=17;break}return e.next=15,c.json();case 15:u=e.sent,200===c.status&&S(u.vivienda);case 17:if(o){e.next=26;break}return e.next=20,a.json();case 20:m=e.sent,404===a.status&&(N(g),P(null),q(!1)),401===a.status&&(q(!1),P(null),P("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(N(me({},m)),q(!1)),e.next=27;break;case 26:window.localStorage.clear(),i("/login");case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(0);case 31:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){n.push("/codeudor/".concat(b,"/").concat(e.solicitud_id||x,"?paso=FCO_5&rol=").concat(m))};return C?(0,t.jsx)("div",{children:"Loading ...."}):E?(0,t.jsx)(h.default,{message:E}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Info Bienes raices"}),(0,t.jsx)(c.J9,{initialValues:g,validationSchema:u.Ry({activos_propios:u.Rx().typeError("Debe ser el n\xfamero de Activos propios").test("activos_propios","",r).positive(),num_escritura:u.Rx().typeError("Debe ser el n\xfamero de la escritural del bien ra\xedz").test("num_escritura","",r).positive(),matricula:u.Rx().typeError("Debe ser un numero, correspondiente a la matr\xedcula del bien ra\xedz").test("matricula","",r).positive(),avaluo_catastral:u.Rx().typeError("Debe ser un numero, correpsondiente al valor del avaluo catastral").test("avaluo_catastral","",r)}),onSubmit:function(){var r=ue(l().mark((function r(t){var a,o,s;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.setForm((function(e){return me({},e,{formulario_codeudor:me({},e.formulario_codeudor,{bienes_raices:me({},t)})})})),a={seccion:"FCO_6",solicitud_id:e.solicitud_id||x,data:me({},t)},r.prev=2,r.next=5,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 5:if(o=r.sent,o.res,s=o.responseComplete,!o.error){r.next=13;break}return window.localStorage.clear(),i("/login"),r.abrupt("return");case 13:s?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedBienesRaices"}),e.setCurrent(e.current+1),n.push("/codeudor/".concat(b,"/").concat(e.solicitud_id||x,"?paso=FCO_7&rol=").concat(m))):(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedBienesRaices"}),F("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){F(null)}),5e3)),r.next=18;break;case 16:r.prev=16,r.t0=r.catch(2);case 18:case"end":return r.stop()}}),r,null,[[2,16]])})));return function(e){return r.apply(this,arguments)}}(),children:function(){return(0,t.jsxs)(c.l0,{children:[se.map((function(e){return(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})})),R?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:R}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:k,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsxs)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:[" ","Siguiente"," "]})]})]})}})]})},be="h-10 border border-gray-400 px-4",ye=[{id:99,name:"nombre_referencia_familiar",fieldName:"Nombre referencia familiar",type:"text",className:"".concat(be)},{id:100,name:"parentesco",fieldName:"Parentesco",type:"text",className:"".concat(be)},{id:101,name:"numero_telefonico",fieldName:"N\xfamero telef\xf3nico",type:"number",className:"".concat(be)},{id:99,name:"nombre_referencia_familiar_alt",fieldName:"Nombre referencia familiar",type:"text",className:"".concat(be)},{id:100,name:"parentesco_alt",fieldName:"Parentesco",type:"text",className:"".concat(be)},{id:101,name:"numero_telefonico_alt",fieldName:"N\xfamero telef\xf3nico",type:"number",className:"".concat(be)}],ve=n(4775);function he(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function xe(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function _e(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){xe(o,t,a,i,s,"next",e)}function s(e){xe(o,t,a,i,s,"throw",e)}i(void 0)}))}}function ge(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ne(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ge(e,r,n[r])}))}return e}function je(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return he(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,m=je(r.query.usuario,2),p=m[0],b=m[1],x=je(a.useState(!1),1)[0],_=je(a.useReducer((function(e,r){return Ne({},e,r)}),{ref_personal:void 0,ref_personal_alt:void 0}),2),g=_[0],N=(g.ref_personal,g.ref_personal_alt,_[1]),j=je(a.useState(!1),2),w=j[0],S=j[1],O=je(a.useState(null),2),C=O[0],q=(O[1],je(a.useState({nombre_referencia_familiar:"",parentesco:"",numero_telefonico:"",nombre_referencia_familiar_alt:"",parentesco_alt:"",numero_telefonico_alt:""}),2)),A=q[0],E=q[1],P=je(a.useState(null),2),I=P[0],R=P[1],F=je(a.useState(null),2),k=F[0],Z=F[1],M=je(a.useState(null),2),D=M[0],T=M[1];a.useEffect(_e(l().mark((function r(){var t,a,o,i,c,u,d,m;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return S(!1),r.prev=1,t="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(e.solicitud_id||b,"?seccion=").concat(s),r.next=5,(0,v.Y)(t);case 5:if(a=r.sent,o=a.response,a.error){r.next=17;break}return r.next=11,o.json();case 11:i=r.sent,404===o.status&&(S(!0),R(null)),401===o.status&&(S(!0),R("Hubo un error al consultar los datos del cr\xe9dito, por favor intenta nuevamente")),200===o.status&&(c=je(i,2),u=c[0],d=c[1],N({ref_personal:u,ref_personal_alt:d}),m={nombre_referencia_familiar:u.nombre,parentesco:u.parentesco,numero_telefonico:u.telefono,nombre_referencia_familiar_alt:d.nombre,parentesco_alt:d.parentesco,numero_telefonico_alt:d.telefono},E(m),R(null),S(!0)),r.next=18;break;case 17:window.localStorage.clear(),n("/login");case 18:r.next=23;break;case 20:r.prev=20,r.t0=r.catch(1),console.log(r.t0);case 23:case"end":return r.stop()}}),r,null,[[1,20]])}))),[]);var z=function(){r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||b,"?paso=FCO_6&rol=").concat(d))};return w?I?(0,t.jsx)(h.default,{message:I}):(0,t.jsx)("div",{className:"".concat(x&&"hidden"," mb-8"),children:(0,t.jsx)(c.J9,{initialValues:A,validationSchema:u.Ry({nombre_referencia_familiar:u.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),parentesco:u.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),numero_telefonico:u.Z_().min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."),nombre_referencia_familiar_alt:u.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),parentesco_alt:u.Z_().required("requerido").matches(/^[a-zA-Z\xd1\xf1\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd9\xd2\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xda\xd3 ]+$/,"No se permiten n\xfameros ni caracteres especiales."),numero_telefonico_alt:u.Z_().min(7,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.").max(20,"Ingresa un n\xfamero de tel\xe9fono v\xe1lido.")}),onSubmit:function(){var t=_e(l().mark((function t(a){var o,i,s,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setForm((function(e){return Ne({},e,{formulario_individual:Ne({},e.formulario_individual,{informacion_referencias_comerciales_familiares:Ne({},a)})})})),(o={seccion:"FCO_7",solicitud_id:e.solicitud_id||b}).data={referencias:[{tipo:"personal",nombre:a.nombre_referencia_familiar,telefono:Number(a.numero_telefonico),parentesco:a.parentesco},{tipo:"personal",nombre:a.nombre_referencia_familiar_alt,telefono:Number(a.numero_telefonico_alt),parentesco:a.parentesco_alt}]},t.prev=3,t.next=6,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),o);case 6:if(i=t.sent,s=i.res,c=i.responseComplete,!i.error){t.next=14;break}return window.localStorage.clear(),n("/login"),t.abrupt("return");case 14:c?(e.dispatch({type:"update",payload:!0,fieldName:"isCompletedPersonalReference"}),e.setCurrent(e.current+1),r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||b,"?paso=FCO_8&rol=").concat(d))):422!==s.statusCode?(e.dispatch({type:"update",payload:!1,fieldName:"isCompletedPersonalReference"}),Z("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){Z(null)}),5e3)):(T(s.message||"Ya tienes referencias registradas, continua en el siguiente paso."),setTimeout((function(){T(null),e.dispatch({type:"update",payload:!0,fieldName:"isCompletedPersonalReference"}),e.setCurrent(e.current+1),r.push("/codeudor/".concat(p,"/").concat(e.solicitud_id||b,"?paso=FCO_8&rol=").concat(d))}),5e3)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e){return t.apply(this,arguments)}}(),children:function(r){return(0,t.jsxs)(c.l0,{children:[ye.map((function(e){return(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),C,(0,t.jsx)(ve.V,{solicitud_credito:e.solicitud_id||b,cedula:p}),k?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:k}):null,D?(0,t.jsx)("div",{className:"mensaje-info mb-4 px-4 py-3 rounded relative",children:D}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:z,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})}):(0,t.jsxs)("div",{className:"flex flex-nowrap flex-row items-center",children:[(0,t.jsx)("div",{className:"h-16 flex items-center",children:"Cargando ..."}),(0,t.jsx)("div",{className:"spinner_cont items-center",children:(0,t.jsx)("span",{className:"material spinner"})})]})};function Se(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function Oe(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ce(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Oe(e,r,n[r])}))}return e}var qe=function(e){return(0,t.jsx)("div",{className:"bg-gray-100 max-w-4xl mx-auto rounded-lg p-8",children:(0,t.jsx)(c.J9,{initialValues:{terminos_condiciones:!1},validationSchema:u.Ry({terminos_condiciones:u.O7().oneOf([!0],"Debes aceptar los terminos y condiciones")}),onSubmit:function(){var r,n=(r=l().mark((function r(n){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.setForm((function(e){return Ce({},e,{formulario_codeudor:Ce({},e.formulario_codeudor,{autorizacion_datos_personales:Ce({},n)})})})),e.setShowModal(!1);case 2:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(e){Se(o,t,a,i,s,"next",e)}function s(e){Se(o,t,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),children:function(e){e.values;return(0,t.jsxs)(c.l0,{children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl text-center my-4",children:"Autorizaci\xf3n para el tratamiento de datos personales"}),(0,t.jsx)("p",{className:"text-xs text-justify",children:"Por medio de la presente, manifiesto que autorizo al Municipio de Medell\xedn para el tratamiento de mis datos personales, bajo las condiciones que me son informadas en los siguientes t\xe9rminos: EL Municipio de Medell\xedn, identificado con NIT No. 890.905.211-1, actuar\xe1 como Responsable del tratamiento de los datos, los que podr\xe1 recolectar, usar y tratar conforme a su Pol\xedtica de Tratamiento de Datos Personales, que est\xe1 disponible en www.medellin.gov.co, la que se reserva el derecho de modificar en cualquier momento, de lo cual informar\xe1 a trav\xe9s de dicho sitio web. Entiendo que es de car\xe1cter facultativo responder preguntas que versen sobre datos sensibles (aquellos que afectan mi intimidad) o de menores de edad. No obstante, de proporcionarlos, estoy autorizando expresamente su Tratamiento. Declaro que conozco mis derechos como titular, especialmente los de conocer, actualizar, rectificar y suprimir mi informaci\xf3n personal, consultar mi informaci\xf3n, solicitar prueba de esta autorizaci\xf3n, as\xed como el derecho a revocar el consentimiento otorgado y que puedo ejercer mis derechos a trav\xe9s de los canales dispuestos por el Municipio de Medell\xedn, a saber, el portal web www.medellin.gov.co, la L\xednea de Atenci\xf3n 4444144, en el Centro de Servicios a la Ciudadan\xeda, ubicado en la Calle 44 N 52 \u2013 165 Centro Administrativo la Alpujarra, o en una de sus sedes externas, es decir, Casas de Gobierno, Mas cerca y Centros de Servicios al Ciudadano (pueden consultarse en la L\xednea de Atenci\xf3n). As\xed, autorizo de manera voluntaria, previa, expl\xedcita, informada e inequ\xedvoca al Municipio de Medell\xedn para tratar mis datos y para que la informaci\xf3n por mi suministrada sea incluida en las bases de datos de esta entidad, para llevar a cabo acciones tendientes al cumplimiento de su objeto misional y, espec\xedficamente, para el desarrollo del objetivo del Programa Social Banco de los Pobres, fundamentalmente contribuir al mejoramiento de la calidad de vida de los habitantes del Municipio de Medell\xedn a trav\xe9s de la concesi\xf3n de microcr\xe9ditos por medio de los cuales se financien proyectos rentables y sostenibles en el tiempo, que permitan el desarrollo de microempresas y la generaci\xf3n de empleo productivo, fortalecer la cultura de la legalidad, brindar acompa\xf1amiento financiero y contribuir con el desarrollo de los dem\xe1s programas y proyectos de la Administraci\xf3n Municipal. Igualmente autorizo para compartir mis datos personales con terceros aliados o contratistas del Municipio de Medell\xedn, con el objeto de que le presten servicios a \xe9ste o en nombre de \xe9ste, o para la ejecuci\xf3n de estrategias o programas conjuntos, as\xed como con otras entidades del orden departamental y nacional y, concretamente, con los operadores que ofrezcan, administren y gestionen las l\xedneas de cr\xe9dito del Banco de los Pobres, o a quien represente sus derechos u ostente la calidad de acreedor, a quienes conjuntamente autorizo para que consulten, reporten, modifiquen, actualicen y rectifiquen, mi informaci\xf3n comercial, financiera y crediticia ante las centrales de riesgo crediticio, o ante cualquier otra entidad que administre bases de datos con los fines legalmente definidos para este tipo de servicios. Declaro que la informaci\xf3n suministrada es correcta, veraz, verificable y actualizada, a la fecha de suscripci\xf3n de la presente autorizaci\xf3n, y me comprometo a actualizarla inmediatamente en caso de alguna modificaci\xf3n. Igualmente que esta solicitud es exacta en todas sus partes y en caso de comprobarse alguna inexactitud ser\xe1 causal de rechazo; as\xed mismo declaro que he sido informado sobre las caracter\xedsti- cas, tarifas, garant\xedas, seguros y dem\xe1s condiciones de los productos y/o servicios que solicito y que podr\xe9 consultarlas directamente ante la entidad que ofrece el producto."})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("label",{className:"font-semibold flex justify-center",children:[(0,t.jsx)(c.gN,{type:"checkbox",name:"terminos_condiciones",className:"mr-4"}),"\xbfEstoy de acuerdo con los t\xe9rminos y condiciones?"]}),(0,t.jsx)(c.Bc,{name:"terminos_condiciones",component:"div",className:"text-xs text-red-500 flex justify-center"}),(0,t.jsx)("br",{}),(0,t.jsxs)("p",{className:"mt-4 text-xs text-justify",children:[(0,t.jsx)("b",{children:"Codeudor:"})," El cual debe estar entre los 18 y 75 a\xf1os y que resida en el territorio nacional. Este codeudor no podr\xe1 presentar ning\xfan tipo de mora o reporte en las centrales de riesgo. El codeudor no podr\xe1 se codeudor de dos o m\xe1s personas en el Banco de los Pobres y tampoco pordr\xe1 solicitar cr\xe9dito como titular con el mismo. 1. Codeudor con contrato laboral: Se aceptar\xe1n codeudores que est\xe9n vinculados mediante contratos t\xe9rmino indefinido, con un ingreso m\xednimo de dos (2) SMLMV. Para acreditar lo anterior deber\xe1 presentar los siguientes documentos: a. Fotocopia ampliada de la c\xe9dula de ciudadan\xeda al 200%. b. Certificaci\xf3n laboral expedida por la empresa o entidad en donde labora, especificando el tipo de vinculaci\xf3n y salario, no superior a (30) d\xedas de expedici\xf3n. c. Copia de las dos \xfaltimas colillas de pago. 2. Codeudor con propiedad ra\xedz: a. Certificado de tradici\xf3n y libertad del inmueble. Este certificado no debe tener m\xe1s de (30) d\xedas de expedici\xf3n. La propiedad ra\xedz deber\xe1 estar ubicada en el Departamento de Antioquia. b. Fotocopia ampliada de la c\xe9dula de ciudadan\xeda al 200%. c. Fotocopia del recibo del impuesto predial. d. El inmueble no podr\xe1 tener Afectaci\xf3n a Vivienda Familiar, Patrimonio de Familia o presentar Embargos. PAR\xc1GRAFO: Cuando el cr\xe9dito sea superior a 10 (diez) SMLMV, se requiere un codeudor que posea una propiedad ra\xedz y su aval\xfao catastral tenga un valor superior de diecisiete (17) SMLMV."]}),(0,t.jsx)("button",{type:"submit",className:"mt-4 p-2 w-1/3 text-white rounded-full bg-color_primary_2_ligth flex justify-center mx-auto ",children:"Siguiente"})]})}})})},Ae="h-10 border border-gray-400 px-4",Ee=[{id:34,name:"vivienda",fieldName:"Vivienda",type:"select",className:"".concat(Ae),options:[{id:34.1,name:"Propia",fieldName:"Propia"},{id:34.2,name:"Familiar",fieldName:"Familiar"},{id:34.3,name:"Arrendada",fieldName:"Arrendada"}]}],Pe=[{id:35,name:"direccion",fieldName:"Direcci\xf3n",type:"text",className:"".concat(Ae)},{id:36,name:"estrato",fieldName:"Estrato",type:"select",className:"".concat(Ae),options:[{id:1,name:1,fieldName:"Estrato 1"},{id:2,name:2,fieldName:"Estrato 2"},{id:3,name:3,fieldName:"Estrato 3"}]},{id:39,name:"telefono",fieldName:"Tel\xe9fono",type:"number",className:"".concat(Ae)},{id:40,name:"celular",fieldName:"N\xfamero Celular",type:"number",className:"".concat(Ae)},{id:41,name:"correo",fieldName:"Correo electr\xf3nico",type:"email",className:"".concat(Ae)}],Ie=n(1859);function Re(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Fe(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function ke(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){Fe(o,t,a,i,s,"next",e)}function s(e){Fe(o,t,a,i,s,"throw",e)}i(void 0)}))}}function Ze(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Me(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Ze(e,r,n[r])}))}return e}function De(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Re(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ze=function(e){var r=(0,o.useRouter)(),n=(0,o.useRouter)().push,i=r.query,s=i.paso,d=i.rol,m=Te(r.query.usuario,2),x=m[0],_=m[1],g=Te(a.useState(!1),2),N=(g[0],g[1],{vivienda:"",direccion:"",estrato:"",barrio_vereda:"",comuna:"",telefono:"",celular:"",correo:e.correo||"",nombre_arrendador:"",telefono_arrendador:""}),j={};Ie.u.forEach((function(e){j[e.COMUNA]=e.NOMBRE_COMUNA}));var w=Te(a.useState(N),2),S=w[0],O=w[1],C=Te(a.useState(!0),2),A=C[0],E=C[1],P=Te(a.useState(null),2),I=P[0],R=P[1],F=Te(a.useState(null),2),k=F[0],Z=F[1];a.useEffect(ke(l().mark((function e(){var r,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud/").concat(_,"?seccion=").concat(s),e.next=4,(0,v.Y)(r);case 4:if(t=e.sent,a=t.response,t.error){e.next=16;break}return e.next=10,a.json();case 10:o=e.sent,404===a.status&&(O(S),R(null),E(!1)),401===a.status&&(E(!1),R("Hubo un error al consultar la informaci\xf3n del cr\xe9dito, por favor intenta nuevamente")),200===a.status&&(O(Me({},o)),R(null),E(!1)),e.next=17;break;case 16:window.localStorage.clear(),n("/login");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),[]);var M=function(){r.push("/codeudor/".concat(x,"/").concat(e.solicitud_id||_,"?paso=FCO_3&rol=").concat(d))};return A?(0,t.jsx)("div",{children:"Loading ...."}):I?(0,t.jsx)(h.default,{message:I}):(0,t.jsx)("div",{className:" mb-8",children:(0,t.jsx)(c.J9,{initialValues:S,validationSchema:u.Ry({vivienda:u.Z_().required("requerido"),direccion:u.Z_().required("requerido"),estrato:u.Rx().typeError("Debe ser numero").required("requerido").positive(),barrio_vereda:u.Z_().required("requerido"),comuna:u.Z_().required("requerido"),telefono:u.Rx().typeError("Debe ser numero").notRequired().positive(),celular:u.Rx().typeError("Debe ser numero").required("requerido").positive(),correo:u.Z_().email().notRequired(),nombre_arrendador:u.Z_().notRequired().nullable(!0),telefono_arrendador:u.Rx().notRequired().nullable(!0)}),onSubmit:function(){var n=ke(l().mark((function n(t){var a,o,i,s,c,u,m,f;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setForm((function(e){return Me({},e,{formulario_codeudor:Me({},e.formulario_individual,{contacto:Me({},t)})})})),a={seccion:"FCO_4",solicitud_id:e.solicitud_id||_},"Arrendada"!==t.vivienda?(o=t.estrato,i=De(t,["estrato"]),a.data=Me({},i,{nombre_arrendador:null,telefono_arrendador:null,estrato:Number(o)})):(s=t.telefono,c=t.celular,u=t.telefono_arrendador,m=t.estrato,f=De(t,["telefono","celular","telefono_arrendador","estrato"]),a.data=Me({telefono:Number(s),celular:Number(c),estrato:Number(m),telefono_arrendador:Number(u)},f)),n.prev=3,n.next=6,(0,y.r)("".concat("https://www.medellin.gov.co/bancopobres/solicitudescreditosms/","credito/solicitud"),a);case 6:n.sent.responseComplete?(e.setIsCompletedContactCitizen(!0),e.setCurrent(e.current+1),r.push("/codeudor/".concat(x,"/").concat(e.solicitud_id||_,"?paso=FCO_5&rol=").concat(d))):(e.setIsCompletedContactCitizen(!1),Z("No fue posible almacenar estos datos, revisa la informaci\xf3n e Intenta m\xe1s tarde"),setTimeout((function(){Z(null)}),5e3)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}(),children:function(e){var r=e.values;return(0,t.jsxs)(c.l0,{children:[Ee.map((function(e){if("select"===e.type)return(0,t.jsx)(b.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id)})),"Arrendada"===r.vivienda?(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Z,{label:"Nombre del arrendador",name:"nombre_arrendador",type:"text",className:"h-10 border border-gray-400 px-4 w-full"},"nombre_arrendador"),(0,t.jsx)(f.Z,{label:"Telefono",name:"telefono_arrendador",type:"number",className:"h-10 border border-gray-400 px-4 w-full"},"telefono_arrendador")]}):null,(0,t.jsx)(b.Z,{id:"comuna",label:"Comuna",name:"comuna",className:"h-10 border border-gray-400 px-4",options:Object.values(j),render:function(e,r){return(0,t.jsx)("option",{value:"".concat(e),children:"".concat(e)},r)}},"comuna"),(0,t.jsx)(b.Z,{id:"barrio_vereda",label:"Barrio o Vereda",name:"barrio_vereda",className:"h-10 border border-gray-400 px-4",options:Ie.u.filter((function(e){return e.NOMBRE_COMUNA===r.comuna})),render:function(e,r){return(0,t.jsx)("option",{value:"".concat(e.BARRIO,"-").concat(e.NOMBRE_BARRIO),children:"".concat(e.NOMBRE_BARRIO)},r)}},"barrio_vereda"),Pe.map((function(e){return"select"===e.type?(0,t.jsx)(b.Z,{id:e.id,label:e.fieldName,name:e.name,className:e.className,options:e.options,render:function(e){return(0,t.jsx)("option",{value:e.name,children:e.fieldName},e.id)}},e.id):"tel"===e.type?(0,t.jsx)(q.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id):"date"===e.type?(0,t.jsx)("div",{children:(0,t.jsx)(p.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)},e.id):(0,t.jsx)(f.Z,{label:e.fieldName,name:e.name,type:e.type,className:e.className},e.id)})),k?(0,t.jsx)("div",{className:"mensaje-error mb-4 px-4 py-3 rounded relative",children:k}):null,(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:M,className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),(0,t.jsx)("button",{type:"submit",className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-color_primary_2_ligth",children:"Siguiente"})]})]})}})})},Be=n(2280),Ve=n(840),Ue=n(3865),Le=n(5012);function $e(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function He(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ye(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return $e(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je=!0;function Ge(e){var r=e.primer_nombre,n=void 0===r?"":r,s=e.segundo_nombre,l=void 0===s?"":s,c=e.primer_apellido,u=void 0===c?"":c,d=e.segundo_apellido,m=void 0===d?"":d,f=e.correo,p=void 0===f?"":f,b=e.num_identificacion,y=void 0===b?"":b,v=(0,o.useRouter)(),h=v.query,x=h.paso,_=h.rol,g=h.usuario,N=Ye(a.useState(0),2),j=N[0],w=N[1],S=Ye(a.useState(!1),2)[1],O=Ye(a.useReducer((function(e,r){switch(r.type){case"update":return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){He(e,r,n[r])}))}return e}({},e,He({},r.fieldName,r.payload));default:return e}}),{isCompletedBasicInformation:!1,isCompletedInfoMate:!1,isCompletedPopulationVariables:!1,isCompletedIncomeAndExpense:!1,isCompletedBienesRaices:!1,isCompletedPersonalReference:!1,isCompletedHabbeasData:!1}),2)[1],q=Ye(a.useState({formulario_codeudor:{}}),2),A=q[0],E=q[1],P=Ye(a.useState(""),2),I=P[0],R=P[1],F=Ye(a.useState(!1),2),k=F[0],Z=F[1],D=Ye(a.useState(!0),2)[1];a.useEffect((function(){["ASESOR","ADMINISTRADOR","SUPERADMINISTRADOR"].includes(_)&&(Z(!1),D(!1))}),[_]);return(0,t.jsx)(Ve.i,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Ue.Z,{title:"Est\xe1s a un paso de cumplir tus sue\xf1os",image_url:"".concat("/bancopobres","/solicitud-banner.png")}),(0,t.jsx)("section",{className:"bg-color_gray_2 pb-24",children:(0,t.jsxs)("div",{className:"main-wrapper pt-14 px-4",children:[(0,t.jsx)("h1",{className:"text-center mb-6",children:(0,t.jsx)("span",{className:"text-3xl font-bold",children:"Formulario de Codeudor"})}),(0,t.jsx)("div",{className:"w-screen md:w-10/12 mx-auto mb-8",children:(0,t.jsx)(Le.Z,{current:j,paso:x,solicitud_id:I,usuario:g,rol:_,form_type:"codeudor"})}),k&&(0,t.jsx)("div",{id:"modal-root",className:"absolute inset-y-0 inset-x-0 m-auto h-3/4 backdrop-blur-md"}),(0,t.jsx)(Be.Z,{Component:function(){return(0,t.jsx)(qe,{form:A,setForm:E,setShowModal:Z})},modalProps:{showModal:k,setShowModal:Z}}),["ASESOR","ADMINISTRADOR","SUPERADMINISTRADOR"].includes(_)?(0,t.jsx)("div",{className:"w-full md:w-9/12 mx-auto mb-8",children:(0,t.jsx)(i.default,{href:"/backoffice",children:(0,t.jsx)("a",{className:"btn-secundario",children:"Volver a backoffice"})})}):null,(0,t.jsxs)("div",{className:"md:w-9/12 mx-auto",children:["FCO_1"===x?(0,t.jsx)(C,{dispatch:O,form:A,setForm:E,setSolicitud_id:R,setCurrent:w,current:j,userInfo:{primer_nombre:n,segundo_nombre:l,primer_apellido:u,segundo_apellido:m,num_identificacion:y}}):null,"FCO_2"===x?(0,t.jsx)(M,{dispatch:O,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_3"===x?(0,t.jsx)(J,{dispatch:O,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_4"===x?(0,t.jsx)(ze,{correo:p,setIsCompletedContactCitizen:S,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_5"===x?(0,t.jsx)(oe,{dispatch:O,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_6"===x?(0,t.jsx)(pe,{dispatch:O,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_7"===x?(0,t.jsx)(we,{dispatch:O,form:A,setForm:E,solicitud_id:I,setCurrent:w,current:j}):null,"FCO_8"===x?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-center text-lg font-semibold",children:"Felicidades. Formulario completado"}),(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("button",{type:"button",onClick:function(){v.push("/codeudor/".concat(g[0],"/").concat(I||g[1],"?paso=FCO_7&rol=").concat(_))},className:"mt-6 p-4 w-2/5 font-bold text-white rounded-full bg-red-500",children:"Anterior"}),"USUARIO"===_&&(0,t.jsx)(i.default,{href:"/",children:(0,t.jsx)("button",{type:"button",className:"mt-6 p-4 w-2/5 text-white rounded-full bg-color_primary_2_ligth",value:"home",children:" Inicio"})})]})]}):null]})]})})]})})}}},function(e){e.O(0,[551,465,774,888,179],(function(){return r=8995,e(e.s=r);var r}));var r=e.O();_N_E=r}]);